{"entry_id": "http://arxiv.org/abs/2303.07306v1", "published": "20230313173012", "title": "The category of extensions and idempotent completion", "authors": ["Raphael Bennett-Tennenhaus", "Johanne Haugland", "Mads Hustad Sand\u00f8y", "Amit Shah"], "primary_category": "math.CT", "categories": ["math.CT", "math.RT", "18E05, 18E10, 18G80, 18N10, 18G99"], "text": "\n\n\n\n    Bennett-Tennenhaus]Raphael Bennett-Tennenhaus\n        \n\t\tDepartment of Mathematics\n\n\t\tAarhus University\n\n\t\t\n\t\t8000 Aarhus C\n\n\t\tDenmark\n        raphaelbennetttennenhaus@gmail.com\n        \n    Haugland]Johanne Haugland\n        Department of Mathematical Sciences\n \n        NTNU\n \n        NO-7491 Trondheim\n \n        Norway\n        johanne.haugland@ntnu.no\n\n    Sand\u00f8y]Mads Hustad Sand\u00f8y\n        Department of Mathematical Sciences\n \n        NTNU\n \n        NO-7491 Trondheim\n \n        Norway\n        mads.sandoy@ntnu.no\n        \n    Shah]Amit Shah\n        \n\t\tDepartment of Mathematics\n\n\t\tAarhus University\n\n\t\t\n\t\t8000 Aarhus C\n\n\t\tDenmark\n        amit.shah@math.au.dk\n\n\n\n\n\n[2020]18E05, 18E10, 18G80, 18N10, 18G99\n\n1\n\nBuilding on previous work, we study the splitting of idempotents in the category of extensions \ud835\udd3c-Ext(\ud835\udc9e) associated to an n-exangulated category (\ud835\udc9e,\ud835\udd3c,\ud835\udd30). In particular, we show that idempotents split in \ud835\udd3c-Ext(\ud835\udc9e) whenever they do so in \ud835\udc9e, allowing us to prove that idempotent completions and extension categories are compatible constructions in a -theoretic sense. More precisely, we show that the exact category obtained by first taking the idempotent completion of (\ud835\udc9e,\ud835\udd3c,\ud835\udd30), in the sense of Klapproth\u2013Msapato\u2013Shah, and then considering its category of extensions is equivalent to the exact category obtained by first passing to the extension category and then taking the idempotent completion. These two different approaches yield a pair of 2-functors each taking small n-exangulated categories to small idempotent complete exact categories. The collection of equivalences that we provide constitutes a 2-natural transformation between these 2-functors. Similar results with no smallness assumptions and regarding weak idempotent completions are also proved.\n\n\n\n\nThe category of extensions and idempotent completion\n    [\n    March 30, 2023\n====================================================\n\n\n\n\n\n\n\n\n1\n\n\n\n\n\n\n\n\n\n\u00a7 INTRODUCTION\n\n\nAn additive category is called idempotent complete given that every idempotent morphism splits (see <ref>), or equivalently if every idempotent admits a kernel (see e.g. <cit.>). The study of idempotent complete categories dates back to work by Karoubi <cit.>, in which it was shown that an additive category  can be naturally embedded into an idempotent complete category , often called its Karoubi envelope or its idempotent completion (see <ref> and <ref>).\n\nThe splitting of idempotents plays an important role in contemporary algebraic geometry, homological algebra, representation theory and category theory. Indeed, it is intimately connected to the Krull\u2013Remak\u2013Schmidt property and Krull\u2013Schmidt categories (see <cit.>, <cit.>).  Krull\u2013Schmidt categories constitute a particularly nice class of examples of idempotent complete categories. In such a category, every object decomposes, essentially uniquely, into a finite direct sum of indecomposable objects with local endomorphism rings. Splitting of idempotents is often a crucial standing assumption when approaching representation theory of finite-dimensional algebras from a categorical or geometrical perspective (see e.g. <cit.>). Furthermore, a generalisation of the Krull\u2013Remak\u2013Schmidt property was given by Azumaya <cit.>, which has since been used in topological data analysis in the study of persistence homology (see e.g. <cit.>).\n\nAbelian, or more generally exact, and triangulated categories appear in various areas of mathematics, including functional analysis and mathematical physics, and are of fundamental interest in representation theory and related areas (see e.g. <cit.>). Recently, Nakaoka\u2013Palu introduced  categories as a simultaneous generalisation of exact and triangulated  <cit.>, and showed that extension-closed subcategories of triangulated categories, which may fail to be triangulated subcategories, carry an extriangulated structure. Herschend\u2013Liu\u2013Nakaoka <cit.> then introduced  categories as a higher-dimensional analogue of extriangulated categories in the context of higher homological algebra. An n-exangulated category for an integer n \u2265 1 is a triplet (,,) consisting of an additive category , a biadditive functor \u00d7\u2192 (where  denotes the category of abelian groups), and a realisation  of . Note that a category is 1-exangulated if and only if it is extriangulated <cit.>. Important classes of examples of n-exangulated categories for higher n include n-exact categories <cit.> and (n+2)-angulated categories <cit.>. \n\nSuppose that (,,) is an n-exangulated category. For each pair of objects A,C, elements of (C,A) are called -extensions. The category of extensions associated to (,,), denoted by , has all -extensions as its objects, and the morphisms are morphisms of -extensions; see Subsection\u00a0<ref>. In a previous article, the authors showed that this category can be equipped with a natural exact structure , giving rise to an exact category (,); see <cit.>. Moreover, we demonstrated that  encodes important structural information. As an example, this perspective leads to a full characterisation of n-exangulated functors between n-exangulated categories; see <cit.>. In the present paper, we improve the understanding of the relationship between an n-exangulated category and its associated category of extensions by studying the splitting of idempotents. \n\nOur first prominent result is <ref> below, which asserts that the splitting of idempotents in  is inherited from . This plays an important role in the paper as a key step towards <ref>.\n\n[See <ref>]\n \nIf  is idempotent complete, then  is also idempotent complete.\n\n\nAs a consequence of <ref>, we obtain that given certain assumptions on , the Krull\u2013Remak\u2013Schmidt property for  implies the same property for ; see <ref>, cf. <cit.>, <cit.>.\n\nIt is shown in <cit.> that the idempotent completion  of  admits an n-exangulated structure, giving rise to an idempotent complete n-exangulated category (,,1mu); see <ref>. Our second main result, given as <ref> below, demonstrates that idempotent completions and extension categories are compatible constructions. More precisely, the category obtained by first taking the idempotent completion of an n-exangulated category and then considering its category of extensions is equivalent to first passing to the extension category and then taking the idempotent completion. \n\n[See <ref>]\n \nThe category  \nis equivalent to the idempotent completion of the category .\n\n\n<ref> and <ref> are both used in order to obtain the 2-category-theoretic result <ref>, which builds a bridge between the 2-categorical framework established in <cit.> and the results on the idempotent completion of an n-exangulated category from <cit.>. To discuss a 2-category of n-exangulated categories, we use notions of morphisms between n-exangulated categories and of morphisms between such morphisms. Structure-preserving functors between n-exangulated categories as introduced in <cit.> are known as n-exangulated functors. We viewed the theory of n-exangulated categories from a 2-categorical perspective in <cit.> by defining n-exangulated natural transformations between n-exangulated functors and establishing the 2-category n of small n-exangulated categories <cit.>. Furthermore, we constructed a 2-functor n\u2192 to the category of small exact categories <cit.>, which sends a 0-cell (,,) in n to the 0-cell (,) in ; see <ref>. A consequence of <ref> is that  restricts to a 2-functor n\u2192 from the 2-category of small idempotent complete n-exangulated categories to the 2-category of small idempotent complete exact categories. The last observation needed in order to state <ref> is that taking idempotent completions yields 2-functors \u2192 and n\u2192n; see <ref> and <ref>, respectively. \n\n[See <ref>]\n\nConsider the diagram  \n\n    nrd[swap]   d\n    nr\n\nof 2-categories and 2-functors.\nThere is a 2-natural transformation \n\u21d2 consisting of exact equivalences.\n\n\nSimilar results as above hold also for weak idempotent completions; see <ref>. We remark that even though <ref> is an expected analogue of <ref> in this setup, the method of proof is different and relies on a previous result of the authors from <cit.>.\n\n\n\nWe note that <ref> follows from a more general result, namely <ref>, in which no smallness assumption is required. In this article the term `category' does not require the collections of morphisms to form sets. In other words, the categories we consider need not be locally small. Just as explained in <cit.>, the reason for the restriction to small categories in <ref> (and indeed in this introduction entirely) is to be able to use the terminology of 2-categories and 2-functors in a way that is consistent with the existing literature. \n\n\n\n\n\n\n\n \u00a7.\u00a7 Structure of the paper\n\nIn <ref> we recall the construction of the idempotent completion of an exact category and use this to establish the 2-functor  from <ref>. Analogously, the 2-functor  is defined in <ref> using the idempotent completion of an n-exangulated category in the sense of <cit.>. In <ref> we recall how to form the category of extensions associated to an n-exangulated category and prove <ref> and <ref>. In <ref> we present the definition of the 2-functor  from <cit.> and show how the main results of the previous sections culminate in <ref>. <ref> concerns the weak idempotent completion. \n\n\n\n \u00a7.\u00a7 Conventions and notation\n\n\nThroughout this paper, let n\u2265 1 denote a positive integer. Given objects X and Y in a category , we write (X,Y) for the collection of morphisms from X to Y in . Functors are always assumed to be covariant. We let  denote the category of abelian groups. \n\n\n\n\n\n\n\u00a7 IDEMPOTENT COMPLETION OF EXACT CATEGORIES YIELDS A 2-FUNCTOR\n\n\n\nThe aim for this section is to explicitly relate the construction of the idempotent completion of an exact category to a 2-categorical framework, establishing the 2-functor  which is part of <ref> in <ref>. We start by following B\u00fchler <cit.> in recalling the idempotent completion (or Karoubi envelope). We also refer to Borceux <cit.>. \n\nThroughout the section, let  denote an additive category. An idempotent in  is a morphism e X\u2192 X for some object X satisfying e^2 = e. Splitting of idempotents, as defined below, plays a central role in this article.\n\n \n \n(See <cit.>.) An idempotent e  X \u2192 X in  splits if there exist morphisms r  X \u2192 Y and s  Y \u2192 X such that sr=e and rs=\ud835\udd40Y. The category  is idempotent complete, or has split idempotents, if each idempotent in  splits. \n\n\nEven though the additive category  need not have split idempotents, it can always be embedded into an idempotent complete category. This is due to Karoubi <cit.>. \n\n\n\n(See <cit.>.) \nDefine a category  as follows. The objects of  are pairs (X,e) for each object X and each idempotent e(X). Given objects (X,X) and (Y,Y) in , the collection ((X,X),(Y,Y)) of morphisms from (X,X) to (Y,Y) consists of triplets (Y,f,X) such that f (X,Y) satisfies f X = f = Y f. The composition of (Y,f,X)((X,X), (Y,Y)) and (Z,g,Y)((Y,Y), (Z,Z)) is given by \n\n    (Z,g,Y)\u2218(Y,f,X)  (Z, gf, X).\n\nIt is clear that this composition is associative. The identity \ud835\udd40(X,e) of (X,e) is the morphism (e,e,e). The category  is called the idempotent completion of . \n\n\nThe category  is additive with biproduct given by . It is also idempotent complete; see <cit.> for details. There is a canonical additive inclusion functor \u2192 defined by setting (X)  (X, \ud835\udd40X) for X and  for f (X,Y). This functor is 2-universal among additive functors from  to idempotent complete categories; see <cit.>.\n\nLet \u2192\u2192 denote the category of composable morphisms in , and note that a functor \u2192 induces a functor \u2192\u2192\u2192\u2192\u2192. Now suppose (,) is an exact category. In particular, the exact structure  is a collection of objects in \u2192\u2192. One can define an exact structure  on  by declaring an object in \u2192\u2192 to be in  if it is a direct summand of an object belonging to the image of  under the functor \u2192\u2192\u2192\u2192\u2192 induced by \u2192.\n\n\n\n(See <cit.>.) \nThe pair (,) forms an exact category, and (,) \u2192 (,) is a fully faithful exact functor that reflects exactness. \n\n\nLet \u2192 be an additive functor. Following <cit.>, there is an induced additive functor \u2192 given by \n\n    (X,e)  ( X,  e)\n    and(Y,f,X)  (Y,  f, X).\n\nWe refer to  as the completion of . If (,) \u2192 (,) is an exact functor, then (,) \u2192 (,) is also exact; see the proof of <cit.>. \n\nIn order to view the constructions above in a 2-categorical framework, we recall some terminology. A 2-category is a collection of 0-cells, 1-cells and 2-cells satisfying certain axioms; see e.g. <cit.> or <cit.>. One should think of 0-cells, 1-cells and 2-cells as objects, morphisms between objects and morphisms between morphisms, respectively. A  has two notions of composition of 2-cells: vertical and horizontal. Using the setup below, we recall these notions in the case of natural transformations. We use the Hebrew letters  (beth) and  (daleth) for natural transformations of additive functors.\n\n\n \nFor the rest of this section, we consider additive categories ,,, additive functors ,,\u2192 and ,,\u2192, and natural transformations \u21d2, '\u21d2, \u21d2 and '\u21d2 as indicated in the diagram\n\n    [Rightarrow,\n                shorten <= 6pt,\n                shorten >= 6pt,\n                yshift = -2pt\n                ]d\n                    [xshift=2pt, yshift=-1pt]      [Rightarrow,\n                shorten <= 10pt, \n                shorten >= 12pt,\n                xshift=0pt,\n                yshift = -2pt\n                ]dd\n                    [xshift=1pt, yshift=-1pt]   \n    [bend left=50]rr\n                [description, xshift=0pt, yshift=0pt]rr\n                [description][bend right=50]rr\n                [description, xshift=0pt, yshift=0pt]   [Rightarrow,\n                shorten <= 3pt,\n                shorten >= 6pt,\n                yshift=4pt\n                ]d\n                    [xshift=2pt, yshift=3pt]'   [bend left=50]rr\n                [description, xshift=0pt, yshift=0pt]\n    \n        [bend right=50]rr\n                [description, xshift=0pt, yshift=0pt]   \n    \n    \n    \n    \n    \n    \n       .\n\n\n\n\n \n(See <cit.>.) \nThe vertical composition of  and '  is the natural transformation '\u21d2 given by *[](')_X*[]_X^'X for each X. The horizontal composition of  and  is the natural transformation \u21d2 defined by (X X\u2218(X) for each X. \n\n\nAs described in <cit.>, the natural transformation \u21d2 induces a natural transformation \u21d2 as follows. Given (X,e), there are the morphisms (\ud835\udd40X,e,e) (X,e) \u2192 (X,\ud835\udd40X) and (e,e,\ud835\udd40X) (X,\ud835\udd40X) \u2192 (X,e). Put \n\n    (X,e)(e,e,\ud835\udd40X)\u2218 (\ud835\udd40 X, X, \ud835\udd40 X) \u2218(\ud835\udd40X,e,e)\n    \t= ( e,( e)X e, e)\n\nas indicated in the diagram\n\n    [column sep=3cm]\n    (X,e) \n    \t[dotted]r(X,e)d[swap](\ud835\udd40X,e,e)   (X,e) \n    \n    ( X,\ud835\udd40 X)\n    \tr[swap](\ud835\udd40 X, X, \ud835\udd40 X)    ( X,\ud835\udd40 X).\n    \tu[swap](e,e,\ud835\udd40X)\n\nIt is straightforward to check that  is natural. We refer to  as the completion of .\n\n\n\nWe write  for the collection of 0-cells, 1-cells and 2-cells consisting of exact categories, exact functors and natural transformations, respectively. For i{0,1,2}, we denote the collection of i-cells by i. Given 0-cells (,) and (,), there is a category ((,), (,)) with 1-cells of the form (,) \u2192 (,) as objects, and where morphisms and composition are given by 2-cells and vertical composition. Hence, there is a   determined by the 0-cells in  which are small categories. We furthermore write  and  when restricting to idempotent complete 0-cells in  and , respectively, and note that also  is a 2-category. \n\n\nA 2-functor between two 2-categories is an assignment of i-cells in the domain category to i-cells in the codomain category for i{1,2,3}, satisfying some compatibility conditions; see e.g. <cit.> or <cit.>. We now begin to construct the 2-functor  used in <ref> in <ref>. \n\n\n\nLet = (0,1,2) \u2192 be defined by the assignments ii\u2192i, where:\n\n    0  (,)  \n         (,),\n    1  ()  \n        ,\n    2 (  ) \n        .\n\n\n\nIf one ignores the set-theoretic issue described in <ref>, then the theorem below should be interpreted as showing that \u2192 is a 2-functor.\n\n\n\nThe following statements hold for the assignments\n0, 1 and 2.\n \n    \n  * \n    The pair  \n    (0, 1) \n    defines a functor \n    \u2192.\n    \n  *  \n    The pair \n    (1, 2) \n    defines a functor \n\t((,), (,)) \u2192((,), (,))\n    whenever (,) and (,) are exact categories.\n    \n  *  \n    The assignment 2 preserves horizontal composition.\n\nIn particular, restricting  to small categories yields a 2-functor \u2192. \n\n\n\nIt follows from the discussions above that the assignments are well-defined. Checking functoriality in <ref> and <ref> is straightforward, while <ref> follows from <cit.>. \n\n\n\n\n\n\n\n\u00a7 IDEMPOTENT COMPLETION OF N-EXANGULATED CATEGORIES YIELDS A 2-FUNCTOR\n\n\n\nIn this section we describe how taking the idempotent completion of an n-exangulated category in the sense of <cit.> relates to a 2-categorical framework. This is done by constructing the 2-functor  from <ref> in <ref>. We start by giving an overview of relevant notions and constructions.\n\nGiven an additive category  and a biadditive functor \u00d7\u2192, an element \u03b1(C,A) is called an -extension. A morphism of -extensions from \u03b1(C,A) to  is a pair (a,c) of morphisms a A\u2192 B and c C\u2192 D in  such that \n\n    (C,a)(\u03b1)=(c,A)(\u03b2).\n\n \nRecall from <cit.> that an n-exangulated category (,,) consists of \n\n\t\n  * an additive category , \n\t\n  * a biadditive functor \u00d7\u2192, and \n\t\n  * an exact realisation  of  in the sense of <cit.>, \n\nsuch that axioms (EA1), (EA2) and (EA*[]2^) stated in <cit.> are satisfied. \n \nThe realisation  associates to each -extension \u03b1(C,A) a certain homotopy class \n\n    (\u03b1)\n        = []\n        = [0r   1r   \u22efr   n+1]\n\nof an (n+2)-term complex  in  with 0 = A and n+1 = C. The pair , \u03b1 is then called a (distinguished) n-exangle. \n\nA morphism , \u03b1\u2192\u2219, \u03b2 of n-exangles is given by a morphism (0,\u2026, n+1)\u2192\u2219 of complexes such that (0,n+1) \u03b1\u2192\u03b2 is a morphism of -extensions. In this case, the tuple (0,\u2026, n+1) is said to be a lift of (0,n+1). \n\nSuppose throughout this section that (,,) and (,,) are n-exangulated categories. An additive functor \u2192 induces a functor \u2192 between the associated categories of complexes. One can define a new biadditive functor , which we will denote by (-,-). \n\n\n(See <cit.>.)\nLet \u2192 be an additive functor and suppose there is a natural transformation\n\n    \u0393 = \n        {(C,A)(C,A)0.7\u00d7(-,-) \u27f9(-,-).\n\nWe call the pair (,\u0393)  (,,) \u2192 (,,) an n-exangulated functor if, for all A,C and each \u03b1(C,A), we have that (\u03b1)=[] implies ((C,A)(\u03b1))=[].\n\n\nIt was demonstrated in <cit.> that one can compose n-exangulated functors as follows. Suppose (, \u0393) (,,) \u2192 (,,) and (, \u03a6) (,,) \u2192 (,,) are  functors between n-exangulated categories. The composite is the  functor (,\u03a6) \u2218 (,\u0393)(, \u00d7\u0393), where \u00d7 is the natural transformation \n\n    \u00d7\n        = \n        {( C, A)(C,A)0.7\u00d7(-,-) \n            \u27f9(-,-).\n \n\nFor \u0393 as above and for \u03b1(C,A), we will usually write \u0393(\u03b1) instead of (C,A)(\u03b1). Furthermore, we use the simplified notation \u03b1 (resp. \u03b1) for the -extension (C,a)(\u03b1)(C,B) (resp. (d,A)(\u03b1)(D,A)) for morphisms a A\u2192 B and d D\u2192 C in .\n\nAs proved in <cit.>, the idempotent completion  of an n-exangulated category (,,) admits a canonical n-exangulated structure. We use the notation (,,1mu) for the n-exangulated category obtained from this construction, and recall the definition of the biadditive functor \u00d7\u2192 and the realisation  of  below. In the case n=1, the construction was given by Msapato <cit.>. \n\n\n \n(See <cit.>.) \nFor objects (A,A),(C,C), we let\n\n    ((C,C),(A,A))\n            (A, \u03b1, C) \n            | \n        \u03b1(C,A) \n        and \n        (A\u03b1 \n            = \u03b1 \n            = (C\u03b1.\n\nFor morphisms (B, a, A) (A,A)\u2192 (B,B) and (C,d,D) (D,D)\u2192 (C,C) in  we put \n\n    ((C,d,D) , (B, a, A)) \n        ((C,C), (A,A)) \n           \u27f6((D, D), (B, B)) \n     \n    (A, \u03b1, C) \n           \u27fc (B, (d,a)(\u03b1), D).\n\n\n\nThe set ((C,C),(A,A)) has an abelian group structure given by \n\n    (A, \u03b1, C) + (A, \u03b1', C)\n         (A, \u03b1 + \u03b1', C),\n\nand <ref> indeed gives a biadditive functor \u00d7\u2192; see <cit.>. \n\nGiven a complex  in  and an idempotent morphism \u2219\u2192 of complexes, we follow <cit.> and the discussion immediately thereafter in using the notation (, \u2219) to denote the complex\n\n    [column sep=1.3cm, scale cd=0.9]\n    (X_0,0)\n        rr(1,10,0)       (1,1)\n        rr(2,21,1)      \u22efr    (n,n)\n        rr(n+1,n+1n,n)       (n+1,n+1)\n\nin , where the maps d_i X_i\u2192 X_i+1 are the differentials of the complex . The realisation  of  is then defined as follows. \n\n\n\n(See <cit.>.) \nLet (A, \u03b1, C) ((C,C),(A,A)) be arbitrary. Since \u03b1(C,A), one may choose  so that \n(\u03b1) \n    = []\n    = [[column sep=0.6cm]\n        A r   1r   \u22efr   nr    C\n    ].\nOne may also lift (A, C) \u03b1\u2192\u03b1 to an idempotent endomorphism \u2219 of the n-exangle \u27e8, \u03b1\u27e9 by <cit.>. Using this, we define  by setting (A, \u03b1, C)  [(, \u2219)].\n\n\nTo see that the assignment  from <ref> does not rely on the choices involved, see <cit.>. By <cit.>, the triplet (,,1mu) is an n-exangulated category and the inclusion (, ) (,,)\u2192(,,1mu) is an n-exangulated functor, where the natural transformation (-,-)\u21d2(-,-) is given by \u03b1\u21a6 (\ud835\udd40A, \u03b1, \ud835\udd40C) for \u03b1(C,A). \n\nNow suppose (,\u0393) (,,)\u2192 (,,) is an n-exangulated functor. Recall that there is an induced additive functor \u2192 as defined in (<ref>). Our next aim is to show that one obtains an n-exangulated functor \n(,\u0393)  \n(,,1mu)\n    \u2192 \n(,,1mu) between the idempotent completions. We first need to define a natural transformation \u0393(-,-)\u21d2(-,-).\n\n\n\nSet\n\u0393((C,C),(A,A))((C,C),(A,A))\u00d7,\nwhere\n\n    ((C,C),(A,A))((C,C), (A,A)) \n           \u27f6((C, C), (A, A)) \n     \n    (A, \u03b1, C) \n           \u27fc (A, \u0393(\u03b1), C).\n\n\nNote that (A,\u0393(\u03b1),C) indeed lies in ((C,C),(A,A)), because naturality of \u0393 yields \n(A\u0393(\u03b1) \n\t= \u0393((A\u03b1)\n\t= \u0393(\u03b1)\nand\n(C\u0393(\u03b1) \n= \u0393((C\u03b1)\n\t= \u0393 (\u03b1). \n\n\nSince \u0393(-,-)\u21d2(,-,-) is a natural transformation, one might wonder if the definition of \u0393 above agrees with the description of the completion of a natural transformation of additive functors from <ref>. However, the biadditive functors  and (-,-) are not necessarily additive functors \u00d7\u2192, so we cannot form the completions of them as in <ref>. Thus, when we use notation of the form \u0393 for a natural transformation of biadditive functors, it always refers to the construction from <ref>.\n\n\n\n\nThe pair (,\u0393) is an n-exangulated functor (,,1mu)\u2192 (,,1mu).\n\n\n\nGiven a pair of objects (A,A),(C,C), the map ((C,C),(A,A)) from <ref> is a homomorphism of abelian groups as (C,A) is one. It follows from the naturality of \u0393 that \u0393 is a natural transformation \n(-,-)\u21d2(-,-).\n\nConsider now an -extension (A,\u03b1,C)((C,C),(A,A)). Following the definition of , we have  where (\u03b1) = [] and the idempotent \u2219\u2192 is a lift of (A, C) \u03b1\u2192\u03b1. Notice that (\u0393(\u03b1)) = [] as (,\u0393) is n-exangulated. Moreover, the morphism \u2219\u2192 is an idempotent lifting (A, C)\u0393(\u03b1)\u2192\u0393(\u03b1). We hence see that (\u0393(A,\u03b1,C)) is given by the class\n\n    [[column sep=2.6cm, ampersand replacement=&]\n        ( A,A) \n            r(1,10,A)& (1,1)\n            r(2,21,1)&\u22efr(C,Cn,n)& ( C,C)\n            ],\n\nwhich is [(,\u2219)]. This finishes the proof. \n\n\nTo consider n-exangulated categories as 0-cells in a 2-category, we use the notion of a morphism between n-exangulated functors. This is captured by the following definition.\n\n\n\n(See <cit.>.) \nSuppose that (,\u0393), (,\u039b)(,,)\u2192(,,) are n-exangulated functors. An n-exangulated natural transformation (,\u0393)\u21d2(,\u039b) is a natural transformation \u21d2 of additive functors such that, for all A,C and each \u03b1(C,A), the pair (A,C) satisfies \n\n    (A\u0393(\u03b1)\n        = (C\u039b(\u03b1).\n\n\n\nNotice that equation (<ref>) means that (A,C) is a morphism \u0393(\u03b1) \u2192\u039b(\u03b1) of -extensions.\n\nFor a natural transformation \u21d2 of additive functors ,\u2192, recall that the completion \u21d2 is given by (X,e) = ( e,( e)X e, e) for (X,e). The proposition below shows that the completion of an n-exangulated natural transformation is again n-exangulated. \n\n\n\nSuppose (,\u0393) \u21d2 (,\u039b) is n-exangulated. Then  is an n-exangulated natural transformation (,\u0393) \u21d2 (,\u039b). \n\n\n\nConsider an -extension (A,\u03b1,C)((C,C),(A,A)). Using that (A\u03b1=\u03b1, we get (A\u0393(\u03b1)=\u0393(\u03b1) by the naturality of \u0393. Similarly, we obtain \u039b(\u03b1)=(C\u039b(\u03b1). Since  is n-exangulated, we have (A\u0393(\u03b1)=(C\u039b(\u03b1), while naturality of  yields . Combining these observations gives\n\n    (A  (A  (A\u0393(\u03b1)=\n    (A  (A\u0393(\u03b1)=\n    (A  (C\u039b(\u03b1)=\n    (C  (A\u039b(\u03b1)\n    \n    \n    =\n    (C\u039b(\u03b1)\n    =\n    (C  (C\u039b(\u03b1)\n    =\n    (CC\u039b(\u03b1)\n    =\n    (CC  (C\u039b(\u03b1).\n\nHence, we have that \n\n    ((A,A)\u0393(A,\u03b1,C)\n       \n    = \n    (A,(A)AA,A\n    \t(A,\u0393(\u03b1),C)       (definitions of , \u0393)\n       = (A,(A  (A  (A\u0393(\u03b1),C)       (<ref>)\n       = (A,((C) CC\u039b(\u03b1),C)      (as above)\n       = ((C,C) \u039b(A,\u03b1,C)      (definitions of , \u039b),\n\nas required.\n\n\nWe now introduce n-exangulated analogues of the collections described in Notation\u00a0<ref>.\n\n\n\nFollowing <cit.>, we write n for the collection of 0-cells, 1-cells and 2-cells consisting of n-exangulated categories, n-exangulated functors and n-exangulated natural transformations between these functors, respectively. Restricting 0-cells in n to small n-exangulated categories yields the 2-category n; see <cit.>. We furthermore write n and n when only considering idempotent complete 0-cells in n and n, respectively, and note that also n is a 2-category. As before, we use a subscript i {0,1,2} to denote i-cells in the collections described above. \n\n\nWe conclude this section by constructing the 2-functor  used in <ref> in <ref>. \n\n\n\nLet = (0,1,2) n\u2192n be defined by the assignments ini\u2192ni, where:\n\n    0  (,,)  \n         (,,1mu),\n    1  (,\u0393)  \n         (,\u0393),\n    2 (  ) \n        .\n\n\n\nThe result below is an n-exangulated analogue of <ref>. \n\n\n\nThe following statements hold for the assignments 0, 1 and 2.\n\n \n    \n  * \n    The pair (0, 1) defines a functor n\u2192n.\n    \n  *  \n    The pair (1, 2) defines a functor \n    \n    n((,,), (,,)) \u2192n((,,1mu), (,,1mu))\n\n    whenever (,,) and (,,) are n-exangulated categories.\n    \n  *  \n    The assignment 2 preserves horizontal composition. \n\nIn particular, restricting  to small  categories yields a 2-functor n\u2192n. \n\n\n\nIt follows from the discussion and results above, in particular Lemmas\u00a0<ref> and <ref>, that the assignments are well-defined. Functoriality in <ref> is straightforward to check. For <ref>, notice first that n((,,), (,,)), and hence also n((,,1mu), (,,1mu)), is indeed a category by <cit.>. Moreover, for <ref>, note that n-exangulated natural transformations are closed under horizontal composition by <cit.>. As 2 is a restriction of 2, parts <ref> and <ref> follow from <ref><ref> and <ref>, respectively. \n\n\n\n\n\n\n\n\u00a7 THE CATEGORY OF EXTENSIONS AND IDEMPOTENT COMPLETION\n\n\n\nFor consistency with the rest of the paper, we assume throughout this section that (,,) is an n-exangulated category. We note, however, that the results of <ref> hold under more general assumptions; see <ref>. In Subsection\u00a0<ref> we first recall the definition of the category of extensions associated to (,,), before proving <ref> from <ref>. Building on this result, our ultimate goal is to show that the category of extensions of the idempotent completion is equivalent to the idempotent completion of the category of extensions. These two categories are described explicitly in Subsection\u00a0<ref> and Subsection\u00a0<ref>, respectively, culminating in a proof of <ref> from <ref>. \n\n\n\n\n\n\n \u00a7.\u00a7 The category of extensions\n\n\n\nThe category of extensions associated to (,,) is denoted by . The objects of  are -extensions, and the morphisms are morphisms of -extensions. Recall from <ref> that this means that an object is an element \u03b1(C,A) for some objects A,C, while a morphism from \u03b1(C,A) to \u03b2(D,B) is given by a pair (a,c) of morphisms a A\u2192 B and c C\u2192 D in  satisfying \u03b1 = \u03b2. \n\nAs shown in <cit.>, one can define an exact structure  on   as follows. Let \u03b1(C,A), \u03b2(D,B) and \u03b3(G,E) be objects in . A sequence \n\n    \u03b1r(a,c)   \u03b2r(b,d)   \u03b3\n\nof composable morphisms in  lies in the class  if and only if the morphisms a and c in  are both sections with b= a and d= c.\n\nBy definition, a category is idempotent complete provided any idempotent endomorphism splits. Note also that a morphism of -extensions (A,C)\u03b1\u2192\u03b1 for \u03b1(C,A) is an idempotent in  if and only if both A A \u2192 A and C C \u2192 C are idempotents in . Hence, <ref> follows from <ref>. The authors are grateful to Dixy Msapato for pointing out <cit.>, which motivated the proof of the result below. \n\n\n \nLet \u03b1(C,A) and  suppose (A,C)(\u03b1) is an idempotent. Then A and C split in  if and only if (A,C) splits in . \n\n\n\n(\u21d2)  \nAssume that A and C split in . As A splits, there exist morphisms r  A \u2192 B and s  B \u2192 A such that sr=A and rs=\ud835\udd40B. Similarly, there exist u  C \u2192 D and v  D \u2192 C with vu=C and uv=\ud835\udd40D, because C splits. Consider the -extension \u03b1(D,B). We see that (s,v)\u03b1\u2192\u03b1 is a morphism in , as\n\n    (\u03b1) = (sr\u03b1 = (e_A\u03b1 = (e_C\u03b1 = (vu\u03b1 = (vuv\u03b1 = \u03b1.\n \nAnalogously, one can show that (r,u)\u03b1\u2192\u03b1 is a morphism of -extensions. Notice that (s,v)\u2218(r,u) = (A,C) and (r,u)\u2218(s,v) = (\ud835\udd40B,\ud835\udd40D), which is the identity on \u03b1. This gives a  splitting of (A,C), as required.  \n\n(\u21d0)   \nIf (A,C) splits, then there exist \u03b2(D,B) and  morphisms (r,u)\u03b1\u2192\u03b2 and (s,v)\u03b2\u2192\u03b1 in  such that (s,v)\u2218(r,u) = (A,C) and . These equations yield splittings of A and C in .\n\n\nWe finish this subsection by deducing <ref>, showing that given certain assumptions on , the Krull\u2013Remak\u2013Schmidt property for  implies the same property for . In order to see this, we first recall some terminology.\n\nLet  be a commutative ring. The additive category  is said to be -linear if (X,Y) is an -module for all X,Y, and we have (\u03bb g)f=\u03bb (gf)=g(\u03bb f) for all \u03bb and all composable morphisms f and g in . When  is -linear, the bifunctor  is -bilinear provided that each abelian group (C,A) has the structure of an -module, and we have (\u03bb c,a)=\u03bb(c,a)=(c,\u03bb a) for all \u03bb and any morphisms a and c in . Recall that an -linear category  is called -finite (over ) if each -module (X,Y) has  finite length (see e.g. <cit.>).  \n\n\n   \nIf  is -linear and  is -bilinear, then  is also -linear. If in addition  is -finite, then so is . \n\n\n\nFix objects \u03b1 and \u03b2 in , say where \u03b1(C,A) and \u03b2(D,B). Given a morphism (a,c)\u03b1\u2192\u03b2 in , we have \n\n    (\u03bb a\u03b1=\n    (\ud835\udd40C,\u03bb a)(\u03b1)=\n    \u03bb(\ud835\udd40C,a)(\u03b1)=\n    \u03bb(c,\ud835\udd40A)(\u03b2)=\n    (\u03bb c,\ud835\udd40A)(\u03b2)\n    =(\u03bb c\u03b2\n\nas  is -bilinear. This means that (\u03bb a,\u03bb c)\u03b1\u2192\u03b2 is a morphism in , and we take this to be the action of \u03bb on (a,c). Using that  is -linear, it is straightforward to check that the -sets of  are -modules under this multiplication. Consider another morphism (b,d)\u03b2\u2192\u03b3 in . Since  is -linear, we have\n\n    (b,d)(\u03bb a,\u03bb c)=(b(\u03bb a),d(\u03bb c))=(\u03bb (ba),\u03bb(dc))=((\u03bb b)a,(\u03bb d), c)=(\u03bb b,\u03bb d)(a,c),\n\nwhich is the action of \u03bb on (b,d)\u2218 (a,c). This proves that  is -linear. \n\nThe arguments above show that the collection of morphisms \u03b1\u2192\u03b2 in  defines an -submodule of the direct sum (A,B)\u2295(C,D). The length of this submodule is bounded above by the sum of the lengths of (A,B) and (C,D), proving the second assertion. \n\n\nRecall that  is said to be a Krull\u2013Schmidt category if every object decomposes into a finite direct sum of objects with local endomorphism rings. \n\n\n\nSuppose that  is -linear, -finite and Krull\u2013Schmidt, and that  is -bilinear. Then  is also -linear, -finite and Krull\u2013Schmidt.\n\n\n\nNote that an R-linear -finite category  is Krull\u2013Schmidt if and only if it is idempotent complete; see e.g. <cit.> or <cit.>. Using this, the result now follows by combining <ref> and <ref>.\n\n\n\n\n\n\n\n \u00a7.\u00a7 The category of extensions of the idempotent completion\n\n\n\nAs recalled in <ref>, the idempotent completion  admits an n-exangulated structure by <cit.>. The corresponding n-exangulated category is denoted by (,,1mu). Therefore, as in Subsection\u00a0<ref>, we can consider the category  of extensions associated to (,,1mu). We give an explicit description of  and the exact structure  below.\n\nObjects: The objects of  are of the form (A,\u03b1,C)((C,C),(A,A)) for (C,C) and (A,A) in . In particular, the morphisms A A \u2192 A and C C \u2192 C in  are idempotents,  and \u03b1(C,A) is an -extension satisfying (A\u03b1  = \u03b1 = (C\u03b1.\n\nMorphisms: A morphism (A,\u03b1, C) \u2192 (B,\u03b2, D) in  is a pair ((B,a,A),(D,c,C)), where (B,a,A) (A,A) \u2192 (B,B) and (D,c,C) (C,C) \u2192 (D,D) are morphisms in  and (B,a,A\u03b1 = (D,c,B\u03b2. In other words, this means that (a,c)\u03b1\u2192\u03b2 is a morphism of -extensions, aA = a = Ba and cC=c=Dc.\n\nComposition: Composition in  is defined component-wise. \nExplicitly, the composition of ((B,a,A),(D,c,C)) and ((E,b,B),(G,d,D)) is ((E,ba,A),(G,dc,C)).\n\nIdentity morphisms: The identity on (A,\u03b1,C) in  is ((A,A,A),(C,C,C)).\n\nPreadditivity: The addition of morphisms is component-wise. \nExplicitly, the addition of ((B,a,A),(D,c,C)) and ((B,a',A),(D,c',C)) is ((B,a+a',A),(D,c+c',C)).\n\nExact structure:\nThe collection  consists of kernel-cokernel pairs\n\n    [column sep=3.7cm]\n    (A, \u03b1, C)\n    \tr((B,a,A),(D,c,C))   (B, \u03b2, D)\n    \tr((E,b,B),(G,d,D))   (E, \u03b3, G)\n\nin  such that (B,a,A) and (D,c,C) are sections with (E,b,B) = (B,a,A) and (G,d,D) = (D,c,C). These conditions are equivalent to the sequences\n\n    [column sep=2cm,ampersand replacement=&]\n    \t\t(A,A) \n    \t\t\tr(B,a,A)& (B,B) \n    \t\t\tr(E,b,B)& (E,E), \n        \n    [column sep=2cm,ampersand replacement=&]\n    \t\t(C,C) \n    \t\t\tr(D,c,C)& (D,D) \n    \t\t\tr(G,d,D)& (G,G),\n\nbeing split exact in .\n\nWe have an immediate corollary of <ref>.\n\n\n The exact category (, ) is idempotent complete.\n\n\t\n\n\n\n\n\n \u00a7.\u00a7 The idempotent completion of the category of extensions\n\n\n\nIn contrast to what is done in Subsection\u00a0<ref>, we may first consider the category of extensions associated to (,,), which forms part of an exact category (,). Then we may take the idempotent completion, resulting in an idempotent complete exact category that we denote by (,); see <ref>. We proceed with an explicit description of  and the exact structure .\n\nObjects: \nThe objects of  are of the form (\u03b1, (A,C)), where \u03b1(C,A) and (A,C)\u03b1\u2192\u03b1 is an idempotent morphism of -extensions. This means that e_A  A \u2192 A and C C \u2192 C are idempotents in  and that (A\u03b1  = (C\u03b1.\n\nMorphisms: A morphism (\u03b1, (A,C)) \u2192 (\u03b2, (B,D)) in  is given by a triple ((B,D),(a,c),(A,C)), where \n(a,c) \u03b1\u2192\u03b2 is a morphism of -extensions and we have (a,c)(A,C) = (a,c) = (B,D)(a,c).\n\nComposition: \nThe composition of two composable morphisms ((B,D),(a,c),(A,C)) and ((E,G),(b,d),(B,D)) in  is ((E,G),(ba,dc),(A,C)).\n\n\nIdentity morphisms: \nThe identity on (\u03b1, (A,C)) in  is ((A,C),(A,C),(A,C)).\n\nPreadditivity: \nLet ((B,D),(a,c),(A,C)) and ((B,D),(a',c'),(A,C)) be morphisms from (\u03b1,(e_A,e_C)) to (\u03b2,(e_B,e_D)) in . The addition of these two morphisms is given by ((B,D),(a+a',c+c'),(A,C)).\n\n\nExact structure:\nThe elements in  are direct summands of images of elements in  under the functor \u2192; see the discussion before <ref>. In other words, they are direct summands of kernel-cokernel pairs in  of the form \n\n    [column sep=2cm]\n    (\u03b1, (\ud835\udd40A,\ud835\udd40C))\n    \trp    (\u03b2, (\ud835\udd40B,\ud835\udd40D))\n    \trq    (\u03b3, (\ud835\udd40E,\ud835\udd40G)),\n\nwhere \n\n    [ p  ((\ud835\udd40B,\ud835\udd40D),(a,c),(\ud835\udd40A,\ud835\udd40C)),  q  ((\ud835\udd40E,\ud835\udd40G),(b,d),(\ud835\udd40B,\ud835\udd40D)) ]\n\nand\n\u03b1r(a,c)   \u03b2r(b,d)   \u03b3\nis an element of . \n\n\n\nEven if (\u03b1,(A,C)) is an object in , the -extension \u03b1(C,A) does not necessarily satisfy (A\u03b1 = \u03b1 or (C\u03b1 =\u03b1. For example, if \u03b1\u2260 0, then (\u03b1,(0,0)) is an object in , but  \u03b1 = \u03b1 = 0  \u2260\u03b1. In particular, this means that the objects of  are not canonically in one-to-one correspondence with those of .\n\n\n<ref> tells us that we cannot expect the categories  and  to be isomorphic in general. Despite this, we prove that they are always equivalent. In the following, we use the Hebrew letters  (mem),  (shin) and  (tsadi). Note that the functor (,,) that we define in the proof of <ref> below will be used to construct a natural transformation in <ref>, which is the reason for our choice of notation.\n\n\n\nThe exact categories (, ) and (, ) are equivalent. \n\n\n\nWe establish an exact functor\n(,,) \n        (, )\n            \u2192 \n\t(, )\nand an exact quasi-inverse \n(,,) \n\t(, )\n\t\t\u2192 \n\t(, ).\n\nDefine (,,) by\n\n    (,,)(A,\u03b1,C) \n         (\u03b1,(A,C))\n\non objects and \n\n    (,,)((B,a,A),(D,c,C)) \n    \t ((B,D),(a,c),(A,C))\n\non morphisms. By our explicit description of  and  in Subsection\u00a0<ref> and Subsection\u00a0<ref>, respectively, we see that (,,) is a well-defined additive functor.\n\nDefine (,,) by \n\n    (,,) (\u03b1,(A,C)) \n         (A,(A\u03b1,C)\n\non objects and \n\n    (,,) ((B,D),(a,c),(A,C)) \n         ((B,a,A),(D,c,C))\n \non morphisms. Note that (,,) is well-defined on objects, since\n\n    (C  (A\u03b1 \n        = (A  (C\u03b1 \n        = (A  (A\u03b1 \n        = (A\u03b1.\n\nIt is straightforward to check that (,,) is well-defined on morphisms, and that it is an additive functor.\n\nThe composite (,,)\u2218(,,) is the identity functor \ud835\udd40 of , as (A\u03b1 = \u03b1 whenever (A,\u03b1,C). For each object (\u03b1,(A,C)) in , set\n\n    (\u03b1,(A,C)) ((A,C),(A,C),(A,C))\n    \t \n    \t(\u03b1,(A,C))\n    \t\t\u2192 \n    \t((A\u03b1,(A,C)).\n \nThis is an isomorphism in . Checking that \n\n    (\u03b1,(A,C))(\u03b1,(A,C))\ud835\udd40\u27f9(,,)\u2218(,,)\n\nis natural is straightforward. \n\nIt remains to show that (,,) and (,,) are exact functors. Recall that the direct sum of two objects (X,X) and (Y,Y) in  is given by \n\n    (X,X)\u2295 (Y,Y) = (X\u2295 Y,X\u2295Y) = (X\u2295 Y,[ X 0; 0 Y ]).\n\n\nWe first check that (,,) is exact. Let \n    [column sep=4cm]\n    (A, \u03b1, C)\n    \tr((B,a,A),(D,c,C))   (B, \u03b2, D)\n    \tr((E,b,B),(G,d,D))   (E, \u03b3, G)\n\nbe an arbitrary element of . The underlying sequences of (<ref>) are split exact in , so we may without loss of generality assume that B = A\u2295 E, B = A\u2295E, D = C\u2295 G, D = C\u2295G, (a,c) = ([ A; 0 ], [ C; 0 ]) and (b,d) = ([ 0E ], [ 0 G ]). Applying (,,) to (<ref>) then yields the sequence\n\n    [column sep=1.5cm]\n    (\u03b1, (A,C))\n    \trr    (\u03b2, (A\u2295E,C\u2295G))\n    \trs    (\u03b3, (E,G)),\n\nwhere \n\n    r     (([ A 0; 0 E ],[ C 0; 0 G ]),([ A; 0 ],[ C; 0 ]),(A,C)),\n    \n    s     ((E,G),([ 0E ], [ 0 G ]),([ A 0; 0 E ],[ C 0; 0 G ])).\n\nWe claim that (<ref>) is a direct summand of the sequence\n\n    [column sep=1.5cm]\n    (\u03b1, (\ud835\udd40A,\ud835\udd40C))\n    \trt    (\u03b2, (\ud835\udd40A\u2295 E, \ud835\udd40C\u2295 G))\n    \tru    (\u03b3, (\ud835\udd40E,\ud835\udd40G)),\n\nwhere \n\n    t     ((\ud835\udd40A\u2295 E, \ud835\udd40C\u2295 G),([ \ud835\udd40A;  0 ], [ \ud835\udd40C;  0 ]),(\ud835\udd40A,\ud835\udd40C)), \n    \n    u     ( (\ud835\udd40E,\ud835\udd40G),([ 0 \ud835\udd40E ],[ 0 \ud835\udd40G ]),(\ud835\udd40A\u2295 E, \ud835\udd40C\u2295 G) ) .\n\nNotice first that  ([ \ud835\udd40A;  0 ], [ \ud835\udd40C;  0 ]) is a morphism \u03b1\u2192\u03b2 of -extensions, since \n\n    *[][ \ud835\udd40A;  0 ]_\u03b1 = *[][ \ud835\udd40A;  0 ]_ (e_A\u03b1 = *[][ A; 0 ]_\u03b1 = *[][ C; 0 ]^\u03b2 = *[][ \ud835\udd40C;  0 ]^*[][ C 0; 0 G ]^\u03b2 = *[][ \ud835\udd40C;  0 ]_\u03b2.\n\nSimilarly, the pair  ([ 0 \ud835\udd40E ],[ 0 \ud835\udd40G ]) is a morphism \u03b2\u2192\u03b3 in . In particular, this yields that (<ref>) is indeed a sequence in . To verify that (<ref>) is a direct summand of (<ref>), notice that there is a section induced by the morphisms ((\ud835\udd40A,\ud835\udd40C),(A,C),(A,C)),  and ((\ud835\udd40E, \ud835\udd40G),(E,G),(E,G)).\n\nThus, to finish the proof that (,,) is exact, it suffices to show that (<ref>) lies in . For this, it is in turn enough to verify that \n\n    [column sep=3cm]\n    \u03b1r([ \ud835\udd40A;  0 ], [ \ud835\udd40C;  0 ])   \u03b2r([ 0 \ud835\udd40E ],[ 0 \ud835\udd40G ])   \u03b3\n\nlies in . By the arguments above, we already know that (<ref>) is a sequence of morphisms in . As its underlying sequences are split exact in , we have that (<ref>) lies in .\n\nWe now show that (,,) is exact. Let \n\n    (\u03b1, (A,C))\n    \tr    (\u03b2, (B,D))\n    \tr    (\u03b3, (E,G))\n\nbe a conflation in . Consequently, we have that (<ref>) is a direct summand of a sequence \n\n    (\u03b1', (\ud835\udd40A',\ud835\udd40C'))\n    \tr    (\u03b2', (\ud835\udd40B',\ud835\udd40D'))\n    \tr    (\u03b3', (\ud835\udd40E',\ud835\udd40G')),\n\nwhich is the image under  of a kernel-cokernel pair \n\n    [column sep=2cm]\n    \u03b1'\n    \tr(a',c')   \u03b2'\n    \tr(b',d')   \u03b3'\n\nin . Apply (,,) to (<ref>) to obtain\n\n    (\ud835\udd40A',\u03b1',\ud835\udd40C')\n    \tr    (\ud835\udd40B',\u03b2',\ud835\udd40D')\n    \tr    (\ud835\udd40E',\u03b3',\ud835\udd40G').\n\nWe claim that (<ref>) lies in . Since (<ref>) belongs to , its underlying sequences are split exact in . As \u2192 is an additive functor, the sequences \n\n    [column sep=3cm,ampersand replacement=&]\n    \t\t(A', \ud835\udd40A')\n    \t\t\tr(\ud835\udd40B',a',\ud835\udd40A')&(B', \ud835\udd40B')\n    \t\t\tr(\ud835\udd40E',b',\ud835\udd40B')&(E', \ud835\udd40E'),\n    \t\t\n    [column sep=3cm,ampersand replacement=&]\n    \t\t(C', \ud835\udd40C')\n    \t\t\tr(\ud835\udd40D',c',\ud835\udd40C')&(D', \ud835\udd40D')\n    \t\t\tr(\ud835\udd40G',d',\ud835\udd40D')&(G', \ud835\udd40G'),\n\nare thus split exact in , and so (<ref>) lies in . \n\nSince (<ref>) is a direct summand of (<ref>), we know that (,,)(<ref>) is a direct summand of (,,)(<ref>)=(<ref>). Thus, by <cit.>, we deduce that (,,)(<ref>) belongs to , and hence (,,) is an exact functor. \n\n\n\n\nFor consistency with the rest of the paper, in <ref> we have assumed that (,,) is an n-exangulated category. However, the results from this section work in a more general setting. We describe this setting in what follows, and leave it to the interested reader to reformulate the claims and their proofs.\n\nLet  and  be additive categories and consider a biadditive functor \u00d7\u2192. The category , is defined by letting objects be elements \u03b1(C,A) with C and A, while a morphism from \u03b1(C,A) to \u03b2(D,B) is a pair (a,c) with a(A,B), c(C,D) and (C,a)(\u03b1)=(c,B)(\u03b2). This definition generalises the construction of the category of extensions from Subsection\u00a0<ref>.\n\n\nWe finish this section by demonstrating the use of <ref> in a concrete example.\n\n\n\nConsider a commutative ring R. For integers m,n\u22650, let m,n(R) denote the set of m\u00d7 n matrices which, when m,n>0, have entries in R. Note that m,0(R) consists of a single empty column vector of length m. Likewise, the set 0,n(R) consists of an empty length n row. There is a unique way of extending matrix multiplication to define a function l,m(R)\u00d7m,n(R)\u2192l,n(R) for any integers l,m,n\u2265 0. \n\nLet  be the category of rectangular matrices over R, defined as follows. Objects of  are rectangular matrices Xm,n(R) for m,n\u22650, and a morphism from Xm,n(R) to Yp,q(R) is defined by a pair of matrices (A,B)q,n(R)\u00d7p,m(R) such that  BX=YA. Composition is defined by component-wise matrix multiplication. The identity of an object Xm,n(R) is the pair (*[]I_n,*[]I_m) of identity matrices. \n\nThe category  is preadditive, where the addition of morphisms is given by component-wise matrix addition. Furthermore,  is in fact additive, where the direct sum X\u2295 Y of Xm,n(R) and Yp,q(R) is given by the block-diagonal matrix in m+p,n+q(R) formed by taking X and Y in the diagonal blocks and 0 elsewhere. The zero object of  is the unique element of 0,0(R).\n\nWe now use <ref> to compute the idempotent completion . Consider first the category  of finitely generated free R-modules, and let \u00d7\u2192 be the biadditive functor given by the -bifunctor (-,-). Using that any finitely generated free R-module is isomorphic to *[]R^n for some n\u2265 0, it is straightforward to check that  is equivalent to the category  of extensions. This uses the fact that commutative rings have an invariant basis number, meaning that the value of n is unique.\n\nApplying <ref> now gives \u2243. Observing that = (-,-), it follows from <cit.> that  is equivalent to the arrow category ^\u2192 of , i.e. the category whose objects and morphisms are given by morphisms and commutative squares in , respectively. It is well-known that the idempotent completion of  is the category  of finitely generated projective R-modules; see e.g. <cit.>. We can thus conclude that  is equivalent to the arrow category ^\u2192.\n\n\n\n\n\n\n\n\u00a7 2-CATEGORICAL COMPATIBILITY\n\n\n\nThe aim of this section is to prove <ref> in <ref>, which asserts that the constructions and results we have exhibited so far are compatible in a 2-categorical framework. We start by recalling the definition of the 2-functor  from <cit.>.\n\nGiven an n-exangulated functor (,\u0393)(,,)\u2192(,,), it follows from <cit.> that there is a corresponding exact functor\n\n    (,\u0393) (,)\u2192 (,).\n \nThis functor is defined by (,\u0393)(\u03b1) = \u0393(\u03b1) on objects and by (,\u0393)(a,c) = ( a, c) on morphisms. In addition, given an n-exangulated natural transformation (,\u0393) \u21d2 (,\u039b) of n-exangulated functors (,\u0393), (,\u039b) (,,)\u2192(,,), one can define a natural transformation (,\u0393)\u21d2(,\u039b) given by *[]_\u03b1  = (A,C) for \u03b1(C,A); see <cit.>.\n\n\n\n(See <cit.>.)\nLet = (0,1,2) n\u2192 be defined by the assignments ini\u2192i, \nwhere:\n\n    0  (,,)  \n         (,),\n    1  (,\u0393)  \n        (,\u0393),\n    2 (  ) \n        .\n\n\n\nIt was shown in <cit.> that  defines a functor n\u2192 that satisfies the properties of a 2-functor, and thus restricts to a genuine 2-functor . <ref> allow us to restrict  to idempotent complete categories. By abuse of notation, we write  for this restriction, where it should be noted that  is not the completion of the functor  in the sense of <ref> (see (<ref>)). We have \n\n    =  (0,1,2)\n    \tn\u2192,\n\nwhere the assignment _i is defined as a restriction of i for i {0,1,2} and satisfies the same properties. Again, we obtain a 2-functor n\u2192 when restricting 0-cells to small categories. Recall that the functors  and  were defined in Definitions\u00a0<ref> and <ref>, respectively, while the exact equivalence \n\n    (,,) \n            (, )\n                \u2192 \n    \t(, )\n \nfor (,,)n0\nwas defined in the proof of . \n\n\n \nThe collection  of exact equivalences (,,) for (,,)n0 defines a natural transformation \u21d2 as indicated in the diagram \n\n    [column sep=1cm]\n    nd[swap]r   d\n    nr[swap][Rightarrow, \n    \t\t\tshorten <= 18pt,\n                shorten >= 20pt,yshift=-5pt, xshift=2pt]ur   .\n\n\n\n\nIn order to demonstrate the naturality of , we must show that \n\n    [column sep=2cm]\n    (,) \n    \tr(,,)d[swap](,\u0393)    (,)  \n    \td(,\u0393)\n    \n    (,) \n    \tr(,,)    (,)\n\ncommutes in  for any n-exangulated functor (,\u0393) (,,) \u2192 (,,). That is, we need to show that (,\u0393)(,,) and (,,)(,\u0393) are equal as functors \u2192.\n\nTo this end, let (A,\u03b1,C) be an object in . On the one hand, we have that\n\n    (,\u0393)(,,)(A,\u03b1,C) \n    \t= (,\u0393) (\u03b1,(A,C)) \n    \t= (\u0393(\u03b1),(A,C)),\n\nwhile on the other hand\n\n    (,,)(,\u0393) (A,\u03b1, C) \n    \t= (,,) (A,\u0393(\u03b1), C) \n    \t= (\u0393(\u03b1),(A,C)).\n\nHence, the functors (,\u0393)(,,) and (,,)(,\u0393) agree on objects. Consider next a morphism ((B,a,A),(D,c,C)) (A,\u03b1, C) \u2192 (B,\u03b2, D) in . We have \n\n    (,\u0393)(,,)((B,a,A),(D,c,C))\n    \t   = (,\u0393) ((B,D),(a,c),(A,C))\n       = ((B,D),( a, c),(A,C)) \n       = (,,) ((B, a,A),(D, c,C))\n       = (,,)(,\u0393)  ((B,a,A),(D,c,C)),\n\nwhich completes the proof. \n\n\nThe next result says that  satisfies the defining property of a 2-natural transformation between 2-functors; see <cit.>. \n\n\n\nLet (,\u0393) \u21d2 (,\u039b) be an n-exangulated natural transformation between n-exangulated functors (,\u0393), (,\u039b) (,,)\u2192(,,). Then the square \n\n    ()(,\u0393)\u2218(,,)[equal]r[Rightarrow]d[swap]()()\ud835\udd40(,,)   (,,)\u2218 ()(,\u0393) \n    \t[Rightarrow]d[xshift=2pt, yshift=0pt]\ud835\udd40(,,)()()\n    \n    ()(,\u039b)\u2218(,,)[equal]r   (,,)\u2218()(,\u039b)\n\ncommutes in ( , ).\n\n\n\nNote first that we have the horizontal equalities by <ref>. Consider an arbitrary object (A,\u03b1,C)((C,C),(A,A)) in = ()(,,). On the one hand,  \n\n    (()() \ud835\udd40(,,)(A,\u03b1,C)   = ()((,,)(A,\u03b1,C) \u2218 ()(,\u0393)(\ud835\udd40(,,)(A,\u03b1,C)\n       = ()((\u03b1,(A,C))\u2218(,\u0393)(\ud835\udd40(\u03b1,(A,C))) \n       = ()((\u03b1,(A,C))\n       = ( ()(\u03b1,(A,C))\n       = *[]_(\u03b1,(A,C))\n       = ((,\u039b) (A,C),(,\u039b) (A,C)*[]_\u03b1(,\u0393)(A,C),(,\u0393) (A,C))\n       = ((A,C), \n    \t\t((A)AA, (C)CC),\n    \t\t(A,C)).\n\nOn the other hand, we have\n\n    (\ud835\udd40(,,)()()(A,\u03b1,C)   = (\ud835\udd40(,,)()(,\u039b)(A,\u03b1,C)\u2218(,,)(()()(A,\u03b1,C)\n       = (,,)*[]_(A,\u03b1,C)\n       = (,,)\n    \t\t\t( (A, (A)AA, A) , (C, (C)CC, C) )\n       = ((A,C), \n    \t\t((A)AA,(C)CC),\n    \t\t(A,C)),\n\nwhich finishes the proof. \n\n\nRestricting to small categories, <ref> and <ref> yield the following corollary, demonstrating that idempotent completions and extension categories are compatible constructions in a 2-category-theoretic sense.\n\n\n\nThere is a 2-natural transformation \n\u21d2\nof 2-functors from n to  consisting of exact equivalences.  \n\n\n\n\n\n\n\n\u00a7 THE WEAK IDEMPOTENT COMPLETION\n\n\n\nThe aim of this section is to relate our main results to the setup of weak idempotent completions. Note that the definitions and results in <ref> rely on concepts and notation which should be recalled from previous sections. Many of the proofs in the weakly idempotent complete case are straightforward modifications of those for the idempotent completion. However, notice that our proof of the key result <ref> differs significantly from the proof of <ref> and relies on a result from <cit.>.\n\nRecall that an additive category  is said to be weakly idempotent complete if every retraction has a kernel or, equivalently, if every section has a cokernel; see <cit.>. Every idempotent complete category is weakly idempotent complete; see e.g.  and <cit.>. For more detail on weak idempotent completions, see e.g. <cit.>. \n\n\n\n(See <cit.>.) \nThe weak idempotent completion  of  is the full subcategory of  that consists of all objects (X,e) for which \ud835\udd40X-e splits in . \n\n\nNote that  is an additive subcategory of  and that there is a canonical additive inclusion functor \u2192 defined by (X)  (X,\ud835\udd40X) for X and (f)  (\ud835\udd40Y,f,\ud835\udd40X) for f(X,Y). This functor is 2-universal among additive functors from  to weakly idempotent complete categories; see <cit.>. The functor \u2192 factors through  via the canonical inclusion functor \u2192, which is the identity on objects and morphisms. In other words, there is a commutative diagram\n\n    rrdr[swap]      \n       ur[swap]\n\nof additive categories and functors.\n\nSuppose that (,) is an exact category. One defines an exact structure  on  as follows. An object of \u2192\u2192 is in  if it is a direct summand of an object in the image of  under the functor \u2192\u2192\u2192\u2192\u2192 induced by \u2192. In particular, a kernel-cokernel pair lies in  if and only if it is a kernel-cokernel pair in  in which all three terms lie in . \n\n<ref> below shows that (,) is a fully exact subcategory of (,). This means that  is extension-closed in (,) and that  coincides with the inherited exact structure; see <cit.>.\n\n\n\nThe pair (,) is a fully exact subcategory of (,). The inclusion (,) \u2192 (,) is a fully faithful exact functor that reflects exactness.\n\n\n\nSuppose that \n[column sep=1.7cm]\n(A,A)\n    r(B, a, A)    (B,B)\n    r(C, b, B)    (C,C)\nis a conflation in (,) with (A,A),(C,C). By <cit.>, there is an object (D,D) and an isomorphism \n\n    [column sep=1.7cm]\n    (A,A)\n        r(B, a, A)[equals]d    (B,B)\n        r(C, b, B)d(D, r, B)    (C,C)\n        [equals]d\n    \n    (A,A)\n        r(D, c, A)    (D,D)\n        r(C, d, D)    (C,C)\n\nin the category *[]\ud835\udc0a^3_(;(A,A),(C,C)) defined in <cit.>. By <cit.>, the morphism (D, r, B) is an isomorphism in , so  is extension-closed. Since a sequence lies in  if and only if it lies in  and has all terms in , the inherited exact structure (see <cit.>) coincides with . This shows that (,) is a fully exact subcategory of (,).\n\nAs a consequence, we observe that (,) \u2192 (,) from (<ref>) is an exact functor. One sees directly that (,) \u2192 (,) is fully faithful and exact. That it reflects exactness follows from (,) \u2192 (,) reflecting exactness (see <ref>) and the commutative diagram (<ref>).\n\n\nSuppose that (,) is also an exact category. Let , (,)\u2192 (,) be exact functors and consider a natural transformation \u21d2. The completions  and  restrict to give exact functors , (,)\u2192 (,). Moreover   restricts to a natural transformation \n\n    (X,e)(X,e)\u21d2.\n\n \nWe write  and  for the restrictions to weakly idempotent complete 0-cells in  and , respectively, and note that  is a 2-category. \n\n\n\nLet = (0,1,2) \u2192 be defined by the assignments\nii\u2192i, \nwhere:\n\n    0  (,)  \n         (,),\n    1  ()  \n        ,\n    2 (  ) \n        .\n\n\n\nThese assignments are well-defined by the discussion above. As a consequence of <ref>, we see that  satisfies the properties of a 2-functor, because  and  are just restrictions of  and , respectively. Thus, one deduces an analogue of <ref>. \n\nThroughout the rest of this section, suppose that (,,) is an n-exangulated category. The next result is an analogue of <ref>, but interestingly the proof is very different. \n\n\n \nIf  is weakly idempotent complete, then  is also weakly idempotent complete.\n\n\n\nLet (a,c)\u03b1\u2192\u03b2 be a morphism in  for \u03b1(C,A) and \u03b2(D,B). Suppose that this morphism is a section. Thus, there is a retraction (r,s)\u03b2\u2192\u03b1 in  satisfying (ra,sc) = (r,s)\u2218 (a,c) = \ud835\udd40\u03b1 = (\ud835\udd40A,\ud835\udd40C). In particular, this implies that a and c are sections in . Since  is weakly idempotent complete, these morphisms each admit a cokernel, which we denote by b =  a and d =  c. We have that (b,d) is a cokernel of (a,c) in  by , so  is weakly idempotent complete.\n\n\nIt was shown in <cit.> that the weak idempotent completion  of  admits an  structure because it is an extension-closed subcategory of (,,1mu) in the sense of <cit.>. We denote the corresponding n-exangulated category by (,,3mu). We now recall how  and  are defined.\n\n\n\n(See <cit.>.)\nThe biadditive functor \u00d7\u2192 is the restriction of  to \u00d7. The exact realisation  of  is defined as follows. Suppose that (A,\u03b1,C)((C,C),(A,A)) is an -extension. Then (A,\u03b1,C) = [ \u2219 ] for some  complex \u2219 in  by <cit.>. \nThus, it is declared that (A,\u03b1,C) = [ \u2219 ].\n\n\n<ref> has the following immediate corollary. \n\n\n\n(, ) is a weakly idempotent complete exact category. \n\n \nRecall from the proof of <ref> that we have an exact equivalence \n\n    (,,) \n            (, )\n                \u2192 \n    \t(, )\n \nwith quasi-inverse (,,) for each n-exangulated category (,,). It follows from <ref> that (,,) restricts to a functor \n\n    (,,)\n        (, )\n        \u2192 (, ).\n\nTo see this, let (A,\u03b1,C)((C,C),(A,A)) and consider (,,)(A,\u03b1,C) \n     = (\u03b1,(A,C)).\nNote that \ud835\udd40\u03b1 - (A,C)\u03b1\u2192\u03b1 is a morphism of -extensions since (A,C)(\u03b1). We must show that \n \ud835\udd40\u03b1 - (A,C)\n     = (\ud835\udd40A-A,\ud835\udd40C-C) \nsplits in . This follows from <ref>, as (A,A),(C,C) means that \ud835\udd40A-A and \ud835\udd40C-C split in .\n\nA similar argument as above shows that (,,) restricts to a functor \n\n    (,,)\n        (, )\n        \u2192 \n        (, ).\n\nNote that (,,) and (,,) are mutually quasi-inverse as they are restrictions of (,,) and (,,). Since it is straightforward to check that (,,) and (,,) preserve the exact structures, we have the following.\n\n\n\nThere is an exact equivalence \n(,,) (, )\n\u2192 (, ) \ngiven by the restriction of (,,). \n\n\nSuppose that (,\u0393) (,,)\u2192 (,,) is an n-exangulated functor. One can define a natural transformation \u0393(-,-) \u21d2(-,-) by setting \n\n    ((C,C),(A,A))(A, \u03b1, C) \n          (A, \u0393(\u03b1), C).\n\nNotice that \u0393 is just a restriction of \u0393. We claim that the pair (,\u0393) is an n-exangulated functor (,,3mu)\u2192(,,3mu). To verify this, assume that (A,\u03b1,C) = [\u2219], which implies . This yields \n, as (,\u0393) is n-exangulated by <ref>. Since (\u2219) is a complex in , we obtain \n\n    (\u0393(A,\u03b1,C)) \n        = [(\u2219)] \n        = [(\u2219)]\n \nas required.\n\nLet (,\u0393) \u21d2 (,\u039b) be an n-exangulated natural transformation between n-exangulated functors (,\u0393),(,\u039b)  (,,)\u2192 (,,). Using that the completion (,\u0393) \u21d2 (,\u039b) is an n-exangulated natural transformation by <ref>, the same holds for the restriction (,\u0393)\u21d2 (,\u039b). \n\nWe write n for the collections obtained by only considering weakly idempotent complete 0-cells in n. Based on the discussion above, we may thus define  \n\n    = (0,1,2) n\u2192n\n\nusing assignments\n, \nwhere:\n\n    0  (,,)  \n         (,,3mu),\n    1  (,\u0393)  \n         (,\u0393),\n    2 (  ) \n        .\n\nIt is straightforward to check that the analogue of <ref> holds for .\n\nAs an application of <ref>, we can restrict  to weakly idempotent complete categories. This restriction is denoted by\n\n    =  (0,1,2) n\u2192,\n\nwhere i is the restriction of i for i {0,1,2} and satisfies the same properties. The proof of <ref> yields the next theorem. Similarly, analogues of <ref> and <ref> follow.\n\n\n \nThe collection ' of exact equivalences (,,) for (,,)n0 defines a natural transformation \u21d2. \n\n\nBy <cit.>, there is an n-exangulated functor (,) (,,) \u2192 (,,1mu), where (\u03b1) = (\ud835\udd40A,\u03b1,\ud835\udd40C) for \u03b1(C,A). Similarly, it is shown in <cit.> that (,) (,,) \u2192 (,,3mu) is n-exangulated, where (\u03b1) = (\ud835\udd40A,\u03b1,\ud835\udd40C). Diagram (<ref>) can be augmented to a commutative diagram \n\n    (,,)\n        rr(,)dr[swap](,)       (,,1mu) \n        (,,3mu)\n        ur[swap](,)\n\nin n, where (B,\u03b2,D)  (B,\u03b2,D) for (B,\u03b2,D)((D,D),(B,B)). Using the functor n\u2192, the diagram (<ref>) induces the commutative diagram \n\n    (,)\n        rr(,)dr[swap](,)       (,) \n        (,)\n        ur[swap](,)\n\nin .\n\nBuilding on the work in <ref>, it is straightforward to check that we obtain <ref> below. We note that there is a similar commutative diagram involving the exact equivalence (,,) and its restriction (,,).\n\n\nThe diagram\n\n    [column sep=2cm]\n        (, )\n            r(,)[equals]d    (, )\n            r(,)d(,,)[swap]\u2243    (, )\n            d(,,)[swap]\u2243\n    \n        (, )\n            r    (, )\n            r    (, )\n\nin  is commutative.\n\n\n\n\n\n\n\n1\nThe authors are grateful to Dixy Msapato for directing them to a result in their paper <cit.>, which led to <ref>. \n\nParts of this work were carried out while the second author visited Aarhus University, and while the first and fourth author visited NTNU. The authors thank the project \u201cPure Mathematics in Norway\u201d funded by the Trond Mohn Foundation for supporting these stays.\n\nThe first author is grateful to have been supported during part of this work by the Alexander von Humboldt Foundation in the framework of an Alexander von Humboldt Professorship endowed by the German Federal Ministry of Education. \n\nThe third author is grateful to have been supported by Norwegian Research Council project 301375, \u201cApplications of reduction techniques and computations in representation theory\u201d.\n\nThe fourth author is grateful to have been supported during part of this work by the Engineering and Physical Sciences Research Council (grant EP/P016014/1), and the London Mathematical Society with support from Heilbronn Institute for Mathematical Research (grant ECF-1920-57). \n\nIn addition, the first and fourth authors gratefully acknowledge support from: \nthe Danish National Research Foundation (grant DNRF156); \nthe Independent Research Fund Denmark (grant 1026-00050B); and \nthe Aarhus University Research Foundation (grant AUFF-F-2020-7-16). \n\n\n\n\n1mybst\n\n"}