{"entry_id": "http://arxiv.org/abs/2303.06858v1", "published": "20230313050301", "title": "Continuous-Time Zeroth-Order Dynamics with Projection Maps: Model-Free Feedback Optimization with Safety Guarantees", "authors": ["Xin Chen", "Jorge I. Poveda", "Na Li"], "primary_category": "math.OC", "categories": ["math.OC", "cs.SY", "eess.SY"], "text": "\n\n\n\n\n\nContinuous-Time Zeroth-Order Dynamics with Projection Maps: Model-Free Feedback Optimization with Safety Guarantees\n    Xin Chen, Jorge I. Poveda,  Na Li \nXin Chen is with the MIT Energy Initiative at the Massachusetts Institute of Technology, MA, USA. E-mail: xinch512@mit.edu. Jorge I. Poveda is with ECE Department, University of California, San Diego, CA, USA. E-mail: poveda@ucsd.edu. Na Li is with the School of Engineering and Applied Sciences at Harvard University, MA, USA. E-mail: nali@seas.harvard.edu.\n  This work was supported in part by NSF CAREER: ECCS 2305756, NSF CAREER: ECCS-1553407, NSF EAGER: ECCS-1839632, and AFOSR grant FA9550-22-1-0211.\n\n\n    Received: date / Accepted: date\n===================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================\n\n\n\n\n\nThis paper introduces a class of model-free feedback  methods for solving generic constrained optimization problems where the specific mathematical forms of the objective and constraint functions are not available. The proposed methods, termed Projected Zeroth-Order (P-ZO) dynamics, incorporate projection maps into a class of continuous-time model-free dynamics that make use of periodic dithering for the purpose of gradient learning. In particular, the proposed P-ZO algorithms can be interpreted as new extremum-seeking algorithms that autonomously drive an unknown system toward a neighborhood of the set of solutions of an optimization problem using only output feedback, while systematically guaranteeing that the input trajectories remain in a feasible set for all times. In this way, the P-ZO algorithms can properly handle hard and asymptotical constraints in model-free optimization problems without using penalty terms or barrier functions. Moreover, the proposed dynamics have suitable robustness properties with respect to small bounded additive disturbances on the states and dynamics, a property that is fundamental for practical real-world implementations. \nAdditional tracking results for time-varying and switching cost functions are also derived under stronger convexity and smoothness assumptions and using tools from hybrid dynamical systems. \nNumerical examples are presented throughout the paper to illustrate the above results. \n\n\n\n\n\nModel-free control, zeroth-order methods, constrained optimization, extremum seeking, nonsmooth dynamical systems.\n\n\n\n\n\n\n\n\u00a7 INTRODUCTION\n\n\n\n\nThis paper studies the design of model-free feedback control algorithms for autonomously steering a plant toward the set of solutions of an optimization problem using high-frequency dither signals. \nThis type of feedback control design \nhas recently attracted considerable attention, due to successful applications in power grids,\n \ncommunication networks, \nand mobile robots; see <cit.> and references therein.\n\n\nThe designing of these controllers for practical applications is particularly challenging because of two major obstacles: one is the lack of accurate models of the system, as many real-world systems are too complex to derive tractable mathematical equations that accurately describe their behavior in unknown or dynamic environments; the other obstacle is  to meet safety requirements by  properly handling various constraints, including physical laws, control saturation, capacity and budget limits, etc. This paper introduces a class of algorithms that can overcome both of these obstacles and are suitable for the solution of model-free constrained optimization problems describing safety-critical applications.\n\n \n\n\n\n \u00a7.\u00a7 Literature Review\n \n\nTo address the problem of unknown system models, real-time model-free control and optimization schemes have been extensively studied. In these approaches,\ninstead of pre-establishing a complex and often static/stationary system model from first principles and historical data, adaptive control algorithms probe the unknown plant and learn its optimal operation points using real-time output feedback. Such techniques, called extremum seeking (ES) controllers, leverage multi-time scale principles in control theory to steer dynamical systems towards an optimal steady state operation, while preserving closed-loop stability guarantees. ES techniques date back to the early 1920s <cit.>. However, the first general stability analysis for nonlinear systems was presented in the 2000s in <cit.> using averaging-based methods, and in <cit.> using sampled-data approaches based on finite-differences approximations. Since these methods make use of only measurements of the objective function, ES  exhibits a close connection with  discrete-time zeroth-order optimization dynamics <cit.>. In the continuous-time and finite-dimensional setting, ES algorithms have been further advanced during the last two decades using more general analytical and design techniques for continuous-time systems, see <cit.>.\n \n\n   \nHowever, despite the theoretical advances and practical applications in ES, one of the major challenges of existing schemes is how to guarantee the systematic satisfaction of hard and asymptotical constraints simultaneously. Hard constraints refer to physical or safety-critical constraints that need to be satisfied by the actions of the controller at all times, e.g. saturation or actuator capacity limits, the generation capacity of a power plant, etc. On the other hand, asymptotic constraints refer to soft physical limits or performance requirements \n  that can be violated temporarily during transient processes but should be met\nin the long-term steady state, e.g., the thermal limits of power lines and voltage limits imposed by industrial standards,  the comfortable temperature ranges required in building climate control, etc. \nProperly handling these two types of constraints is essential to ensure stability and optimality in real-time optimization algorithms.\n\nIn the context of ES, most of the approaches and stability results have been developed for unconstrained optimization problems. For optimization problems with hard constraints, the majority of the results and schemes have been limited to methods that integrate barrier or penalty functions in the cost <cit.>, which can limit the type and number of constraints that can be handled by the algorithms. In <cit.>, ES algorithms were introduced to solve optimization problems with constraints defined by certain Euclidean smooth manifolds and Lie Groups. These schemes, however, do not incorporate soft constraints in the optimization problem, and can only handle boundaryless manifolds. Anti-windup techniques in ES for problems that involve saturation were studied in <cit.>, and ES with output constraints were studied in <cit.> using boundary tracing techniques. Switching ES algorithms that emulate sliding-mode techniques were also presented in <cit.> to handle hard constraints in time-varying problems. More recently, an innovative approach that combines safety filters and ES was introduced in <cit.> using control barrier functions and quadratic programming. To handle soft constraints, ES approaches based on saddle flows have also been studied in <cit.>. Finally, more closely related to our setting are the works <cit.>, which considered ES algorithms with certain projection maps for scalar problems <cit.>, and numerical studies of Nash-seeking problems with box constraints <cit.>.\n\n\n\n\n\n\n \u00a7.\u00a7 Contributions and Organization\n \n\nThis paper introduces a class of continuous-time projected zeroth-order (P-ZO) algorithms for solving generic constrained optimization problems with both hard and asymptotical constraints. Based on ES and two different types of projection maps,\nthe proposed P-ZO methods  can be interpreted as model-free feedback controllers that steer a plant towards the set of solutions of an optimization problem with hard and soft constraints, using only measurements of the objective and constraint functions. In particular, we explain the main advantages and innovations of the proposed algorithms below:\n\n\n\n\n\n\n(a) Model-Free Methods: We study a class of optimization algorithms that use only measurements or evaluations of the objective function and the constraints, i.e., zeroth-order information. In this way, the algorithms do not require knowledge of the mathematical forms of the expressions that define the optimization problem, or their gradients. We show that, under suitable tuning of the control parameters, the trajectories of the proposed model-free ZO algorithms can approximate the behavior of continuous and discontinuous first-order model-based dynamics <cit.>. By exploiting real-time output feedback, the proposed algorithms are inherently robust and adaptive to time-varying unknown disturbances, and for a general class of objective functions, potentially time-varying or switching between a finite collection of candidates. \n\n\n\n(b) Safety and Optimality via Hard and Soft Constraints: The proposed algorithms can satisfy safety-critical constraints at all times by using continuous or discontinuous projection maps. The systematic incorporation of these mappings into ES vector fields remained mostly unexplored in the literature, and our results show that they can be safely used in feedback loops to solve optimization problems with hard constraints. In the context of ES, to allow for enough exploration via dithering, the projection maps are applied to a shrunken feasible set that can be made arbitrarily close to the nominal feasible set by decreasing the amplitude of the dithers. In this way, the algorithms are able to provide suitable evolution directions near the boundary of the feasible set, achieving a property of \u201cpractical safety\u201d, similar in spirit to the one studied in <cit.>. In addition to the hard constraints, the proposed controllers are also able to simultaneously handle soft constraints via primal-dual ES vector fields, thus achieving safety and optimality in a variety of model-free optimization problems. \n    \n\n\n(c) Stability and Performance Guarantees: We leverage averaging and singular perturbation theory for non-smooth (and hybrid) systems, as well as Lyapunov-based arguments, to show that the proposed dynamics can guarantee convergence to an arbitrarily small neighborhood of the optimal set, from arbitrarily large compact sets of initial conditions in the feasible set. Moreover, by exploiting the well-posedness of the dynamics and the optimization problem, the algorithms also guarantee suitable robustness properties with respect to arbitrarily small bounded additive disturbances acting on the states and dynamics of the closed-loop system. This is a fundamental property for practical applications and  is non-trivial to achieve in model-free algorithms. We also provide tracking bounds for time-varying optimization problems using (practical) input-to-state stability tools, and we provide stability results for a class of ES problems  with unknown switching objective functions,  which have remained mostly unexplored in the literature.\n\n\n\n\n\n\n\n\n\n\n\n\nEarlier, partial results of this paper appeared in the conference paper <cit.>. The results of <cit.> are dedicated only to a particular optimal voltage control problem in power systems using only one of the algorithms studied in this paper. In contrast to <cit.>, in this paper, we consider a generic constrained optimization problem and we study two different types of projection maps (continuous and discontinuous), which require different analytical tools and lead to two different algorithms. Additionally, we present novel tracking results for time-varying optimization problems and problems with switching costs, and we establish robustness guarantees for all the algorithms. Unlike <cit.>, we also present the complete proofs of the results, as well as novel illustrative examples.\n\n\n\n\n\n\n\n\n\n\n\n\n \n\n \n\n\n\n\n\n\n\n\n\nThe remainder of this paper is organized as follows: \nSection <ref> introduces the notation and the preliminaries. Section <ref> presents the problem formulation. Section <ref> introduces the projected ZO dynamics that incorporate Lipschitz projection maps, and establishes results for static maps, time-varying maps, and switching maps. Section <ref> considers projected gradient-based ZO dynamics with discontinuous projections. Section <ref> presents the analysis and proofs. Numerical experiments are presented throughout the paper to illustrate the main ideas and results. The paper ends with conclusions presented in Section <ref>.\n\n\n\n\n\n\n\n\u00a7 NOTATION AND PRELIMINARIES\n\n\n\n\n\n\n\n\n \u00a7.\u00a7 Notation\n\n\nWe use unbolded lower-case letters for scalars and bolded lower-case letters for column vectors. \nWe use \u211d_+:=[0,+\u221e) to denote the set of non-negative  real values and use  to denote a closed unit ball of appropriate dimension.  \n\nWe use\n||\u00b7|| to denote the Euclidean norm of a vector and  use [; ] := [^\u22a4, ^\u22a4]^\u22a4 to denote the column merge of column vectors ,. Given a positive integer n, we   define the index set [n]:={1,\u22ef,n}. The distance between a point \u2208^n and a nonempty  closed convex set \u2286^n is denoted as ||||_:=\u2208inf  ||-||; and the Euclidean projection of  onto the set  is defined as \n\n\n    \ud835\udcab_():= \u2208arg  inf  || -||.\n\n\nThe norm cone to a set  at a point \u2208 is defined as \n\n\n    N_():=   {\u2208\u211d^n: ^\u22a4( -) \u2264 0,  \u2200\u00a0\u2208}.\n\n\nThe tangent cone to     at a point \u2208 is defined as \n\n\n    T_():=  {\u2208\u211d^n: ^\u22a4\u2264 0,  \u2200\u00a0\u2208 N_()  },\n\n\nwhich is the polar cone of the normal cone N_(). \n\n\n\n\n\n\n\n\n\nA continuous function \u03b2(r,s): _+\u00d7_+\u2192_+ is said to be of class-\ud835\udca6\u2112 if it is zero at zero, non-decreasing in its first argument r, non-increasing in the second argument s, lim_r\u21920^+\u03b2(r,s)=0 for each s, and lim_s\u2192\u221e\u03b2(r,s)=0 for each r <cit.>.\n\nIn this paper, we will consider constrained dynamical systems in the form:\n\n\n    \ud835\udc31\u2208 C,\u00a0\u00a0\u00a0\ud835\udc31\u0307\u2208 F(\ud835\udc31),\n\n\nwhere \ud835\udc31\u2208\u211d^n is the state, C is the    flow set, and F:\u211d^n\u21c9\u211d^n is the  flow map, which can be set-valued. We use \ud835\udc31\u0307=d\ud835\udc31(t)/dt to denote the time derivative of the function t\u21a6\ud835\udc31(t). A function  is said to be a (Caratheodory) solution to (<ref>) if\n1) t\u21a6\ud835\udc31(t) is absolutely continuous on each compact sub-interval of its domain dom(\ud835\udc31); 2) \ud835\udc31(0)\u2208C; and 3) \ud835\udc31\u0307(t)\u2208 F(\ud835\udc31(t)) and \ud835\udc31(t)\u2208 C for almost all t\u2208dom(\ud835\udc31) <cit.>. The solution \ud835\udc31 is said to be complete if dom(\ud835\udc31)=[0,\u221e). \n If the flow map F is single-valued,  (<ref>) reduces to an ordinary differential equation. If  F is also continuous, solutions \ud835\udc31 to (<ref>) are continuously differentiable functions. In addition, if F is locally Lipschitz, then solutions of (<ref>) are unique.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n \u00a7.\u00a7 Preliminaries on Extremum Seeking Control\n\n\n\n\n\nExtremum Seeking (ES) control is a type of adaptive control that is able to steer a plant towards a state that optimizes a particular steady-state performance metric using real-time output feedback. These types of controllers can be seen as continuous-time ZO optimization algorithms with (uniform) convergence and stability guarantees. \nTo explain the rationale behind these algorithms, we consider the optimization problem \n\n\n    min_x f(x),\n\n\nwhere f:\u211d\u2192\u211d is a continuously differentiable function.  \n\n\n\n\n\n\nA standard approach to finding the minimizer of f is to use a gradient descent flow in the form \u1e8b = -k_x\u00b7d f(x)/d x, where the gain k_x defines the rate of evolution of the system. However, when the derivative of f is unknown, gradient flows cannot be directly implemented, and instead, model-free techniques are required. To address this issue, ES approximates the behavior of the gradient flow by adding a high-frequency periodic probing signal \u03b5_a \u03bc\u0302(t) with amplitude \u03b5_a to the nominal input of the plant. The resulting output y = f(x+ \u03b5_a \u03bc\u0302(t)), which is assumed to be available for measurements, is then multiplied by the same probing signal \u03bc\u0302(t), and further normalized by the constant 2/\u03b5_a. The loop is closed with an integrator with a negative gain -k_x, leading to the ES dynamics: \n\n\n    \u1e8b = -k_x 2/\u03b5_a  f(x+\u03b5_a \u03bc\u0302(t)) \u03bc\u0302(t).\n\n\nWhen the frequency of \u03bc\u0302(\u00b7) is sufficiently large compared to the rate of evolution k_x, \n\n\nthe ES dynamics (<ref>) exhibits a time scale separation property that allows to approximate the behavior of x based on the average of the vector field of (<ref>). For example, consider the use of a sinusoidal signal as the probing single, i.e.,  \u03bc\u0302(t) := sin (\u03c9 t). With large \u03c9>0 and small \u03b5_a,\n\n\n\n\n\n\n\n\n\nwe  consider the Taylor expansion of f: \n    f(x+\u03b5_asin(\u03c9 t)) =  f(x)\n    + \u03b5_asin(\u03c9 t)d f(x)/d x +   \ud835\udcaa(\u03b5_a^2).\n By  computing the average of the vector field of (<ref>) over one period T=2\u03c0/\u03c9 of the probing signal, one obtains\n\n\n\n\n\n\n\n\n\n\n\n    \u1e8b    = 1/T\u222b_0^T-k_x2/\u03b5_a  f(x+\u03b5_asin(\u03c9 t))sin(\u03c9 t)   dt \n       \n    = -k_x/T\u222b_0^T2sin^2(\u03c9 t)d f(x)/d x + (\u03b5_a)   dt , \n        = -k_xd f(x)/d x +  (\u03b5_a):=h_ave(x)\n\n \n where (\u03b5_a) denotes high-order terms, bounded on compact sets, that vanish as \u03b5_a\u21920^+. The average system (<ref>) is essentially an (\u03b5_a)-perturbed gradient descent flow. Under suitable assumptions on f, averaging theory and perturbation theory show that the trajectories of (<ref>) will approximate those of (<ref>) (on compact sets and compact time intervals) as \u03b5_a\u21920^+ and as \u03c9\u21920^+ <cit.>. Uniform stability properties of gradient flows can then be leveraged to establish stability results for (<ref>) in the infinite horizon <cit.>. This analysis can also be applied to the multi-variable case using an appropriate choice of the (vector) frequencies \u03c9, and to other architectures using Lie-bracket averaging theory that results in a similar average system <cit.>. \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n \n\n\n\u00a7 PROBLEM FORMULATION\n \n\n\n\n\n\n\n\n\nIn contrast to (<ref>), in this paper, we consider generic constrained optimization problems in the form:\n\n\n\n    Obj.     min_  f() \n    s.t.      \u2208\n        g_j()\u2264 0,      j\u2208[m],\n\n\n\nwhere \u2208^n is the decision variable, f:^n\u2192 is the  objective function, \u2286^n denotes the feasible set of , and the vector-valued function :=[g_1;g_2;\u22ef;g_m]:^n\u2192^m describes additional inequality constraints on . The set of the optimal solutions of (<ref>) is denoted as \ud835\udcb3^*\u2282\u211d^n.\n\n  Information Availability:\nWe consider  the problem setting where the feasible set \ud835\udcb3 is known but the mathematical forms of f(\u00b7) and (\u00b7) are unknown. In this case, one can only query (in real-time) the  values of f() and () for a given . That is, the optimization solver can only access the zeroth-order information of f(\u00b7) and (\u00b7), but not their (first-order) gradients  or (second-order) Hessian information. \n\n\n \n\n\nThe motivation and rationale of the above problem setting are explained below:\n\n\n  \n    \n  1) The above problem is motivated by the  feedback control design that seeks to steer an unknown plant in real time to an optimal solution of problem (<ref>). Here, we model the plant using the static input-to-output maps f(\u00b7) and (\u00b7) to approximate its dynamics. The validity of this approximation lies in the fact that in many applications the plant is a stable dynamical system that converges to a steady state in a much faster time scale compared to the controller. The steady-state approximation of the plant can then be justified using singular perturbation results for nonlinear systems <cit.>, provided that the time-scale separation is sufficiently large. \n    \n    \n    \n    \n    \n    \n     \n     \n       \n \n\n\n \n  \n\n\n \n\n\n  2) For many complex engineering systems, their  models, captured by the maps f(\u00b7) and (\u00b7), may be unknown, unavailable, or too costly to estimate. \n   \nOn the other hand, the widespread deployment of smart meters and sensors provides real-time  measurements of the system outputs. These measurements can be \n interpreted as the function evaluations of f(\u00b7) and (\u00b7) and  can be used as the system feedback to circumvent the unknown model information. \n\n\n  3) In problem (<ref>), we\n    distinguish  hard constraints, modeled by , and asymptotic constraints, modeled by the inequalities  (<ref>). Thus, the constraints imposed by   (<ref>) must be satisfied at all times, while inequalities (<ref>) \n    may be violated during the transient process but should be  satisfied   in the steady states.\n\n\n\nThis paper aims to develop model-free feedback optimization algorithms that are able to solve problem (<ref>) using only zeroth-order information, while simultaneously  satisfying hard and asymptotic constraints. To achieve these goals, in Sections <ref> and <ref>, we will study a class of ZO feedback optimization algorithms that are based on ES and incorporate two types of projection maps. To guarantee that problem (<ref>) is well-posed, throughout this paper we will make the following assumptions, which, as discussed later, can be used to relax standard global convexity assumptions considered in the literature of ES.\n\n\n\n \n The feasible set \ud835\udcb3 is  nonempty, closed, and convex. The functions f and g_1,\u22ef,g_m are convex and continuously differentiable on an open set containing \ud835\udcb3. The function f is radially unbounded.\n\n\n\n\n\n\n\n\n\n\n \nProblem (<ref>) has a finite optimum and the Slater's conditions hold. Moreover, the set  of optimal solutions ^* is compact. \n\n\n\n\n\n \n\n\n\n\n\n\n\n\n\u00a7 MODEL-FREE FEEDBACK OPTIMIZATION  WITH LIPSCHITZ PROJECTIONS\n\n\n\nIn this section, we introduce a class of gradient-based continuous-time ZO algorithms that incorporate Lipschitz continuous projection maps. We term these algorithms as the projected gradient-based zeroth-order (P-GZO) dynamics. We first study a reduced version of (<ref>) that considers only the hard constraint (<ref>), i.e., we consider the problem:\n\n\n    min_\u2208 f().\n\n\nFor this problem, we establish stability, safety, and  tracking results under the P-GZO dynamics. After this, we develop results for the case when f is dynamically drawn from a finite collection of cost functions that share the same minimizer, a problem that emerges in systems with switching plants. Lastly, we further incorporate the constraints (<ref>) using a projected primal-dual zeroth-order (P-PDZO) algorithm. \n\n\n\n\n\n\n\n\n\n\n\n \n\n\n\n \u00a7.\u00a7 GZO Dynamics with Lipschitz Projection\n \n\n\nTo solve (<ref>), we develop the following dynamics termed\nprojected gradient zeroth-order (P-GZO) dynamics:\n\n\n\n    \ud835\udc31\u0307   =k_x (\ud835\udcab_\ud835\udcb3(\ud835\udc31-\u03b1_x  \u03be)-\ud835\udc31),\n       =1/\u03b5_\u03be(-+2/\u03b5_af(\ud835\udc31\u0302) ),\n       =1/\u03b5_\u03c9\u039b_\u03ba,\n\n\n\nwhere k_x,\u03b1_x,\u03b5_\u03be,\u03b5_a,\u03b5_\u03c9>0 are tunable parameters. The dynamics (<ref>) incorporates a Lipschitz projection map of the form (<ref>) to ensure that  stays within the feasible set . The dynamics (<ref>)  estimates the gradient \u2207 f with a new state \u2208^n, whose dynamics depend on the measured output y=f(), where  is the perturbed input   defined as\n\n\n    :=   + \u03b5_a .\n\n\nIn (<ref>), :\u211d_\u22650\u2192^n is a vector-valued  periodic dither signal that is  generated by the linear dynamic oscillator (<ref>). Specifically, the vector  collects all the odd entries of the state \u2208^2n, i.e.,\n\n\n    := [ \u03bc_1,  \u03bc_3,  \u03bc_5,\u22ef, \u03bc_2n-1]^\u22a4.\n\n\nThe matrix \u039b_\u03ba\u2208\u211d^2n\u00d7 2n in (<ref>) is block diagonal, with the i-th diagonal block given by\n\n\n    \u039b_\u03ba_i=[[      0 -2\u03c0\u03ba_i;  2\u03c0\u03ba_i      0 ]]\u2208^2\u00d7 2,    i\u2208[n],\n\n\nwhich is parameterized by the tunable constant \u03ba_i>0. Hence, (<ref>) describes n autonomous oscillators, whose solutions  can be explicitly computed as\n\n \n    \u03bc_i(t) = \u03bc_i(0)sin(2\u03c0\u03ba_i/\u03b5_\u03c9 t)   \n    +\u03bc_i+1(0)cos(2\u03c0\u03ba_i/\u03b5_\u03c9 t),   \n           \u2200  i = 1, 3, \u22ef, 2n-1,\n  \n\nand we choose initial conditions that satisfy \n\n\n    \u03bc_i(0)^2 + \u03bc_i+1(0)^2=1.\n\n\n\nFor example, when \u03bc_i(0) = 1 and \u03bc_i+1(0) = 0 for i = 1, 3, \u22ef, 2n-1, equation (<ref>) becomes\n\n    (t):= [sin(2\u03c0\u03ba_1/\u03b5_\u03c9 t), \u22ef, sin(2\u03c0\u03ba_2n-1/\u03b5_\u03c9 t) ]^\u22a4.\n\n\nIn addition to sinusoidal dither signals, other types of dither signals can also be employed to obtain suitable estimations of the gradient, including triangular waves and square waves, see <cit.>.  By incorporating the linear dynamic oscillator (<ref>), the P-GZO dynamics (<ref>) becomes an autonomous system, which facilitates the theoretical analysis. \n\nThe P-GZO dynamics (<ref>), with the overall state :=(, ,  ), is restricted to evolve on the following flow set\n\n\n    \ud835\udc02_1:=\ud835\udcb3\u00d7\u211d^n\u00d7\ud835\udd4b^n,\n\n\nwhere \ud835\udd4b^n:=\ud835\udd4a\u00d7\ud835\udd4a\u00d7\u2026\u00d7\ud835\udd4a \nand \ud835\udd4a\u2282^2 denotes the unit circle centered at the origin. By construction and Assumption <ref>, the set \ud835\udc02_1 is closed, and it enforces condition (<ref>) on the initialization of the state . Note that the P-GZO dynamics (<ref>) has a Lipschitz continuous vector field on the right-hand side due to the use of a Lipschitz projection mapping. Figure <ref> shows a block diagram of the proposed algorithm.\n\n\n\n\n\nThe following assumption will be used throughout  this paper to distinguish different dither signal components with different frequency parameters.\n\n\n\nThe parameters \u03ba_i>0 in (<ref>) are rational numbers and satisfy \u03ba_i\u2260\u03ba_j, and \u03ba_i\u2260 2\u03ba_j for all i\u2260 j. \n\n\n\n\n\n\n \n\n\n\n\n\n\n\n\n\n \nWe further explain the proposed P-GZO dynamics (<ref>) with the following remarks.\n\n\n\n\n\n\n\n The intuition behind the P-GZO dynamics (<ref>) is that, under a sufficiently small \u03b5_\u03c9 and \u03b5_a, the term 2/\u03b5_af(\ud835\udc31\u0302) gives, on average, an (\u03b5_a)-approximation of the gradient \u2207 f(). The dynamics (<ref>) with a small \u03b5_\u03be behaves like a low-pass filter that takes  2/\u03b5_af(\ud835\udc31\u0302) as the input, and proceeds to output a refined signal , which can mitigate oscillations induced by the dither. Moreover, the introduction of the state  with dynamics (<ref>) facilitates the analysis of the projected system via averaging theory by removing from  the term that explicitly includes the highly oscillatory signal . Otherwise, the projection in (<ref>) may interfere with the computation of the average dynamics of  near the boundary of . \n\n\n\n\n\n\n \n\n(Safety and Optimality). As we will show below in Lemma <ref>, the projection map in (<ref>) guarantees that  remains always in the feasible set ,\nand thus the actual decision input  always remains in a small tunable (\u03b5_a)-inflation of . This property defines a notion of \u201cpractical\" safety, similar to those studied in using safety filters and smooth orthogonal projections <cit.>. However, in contrast to other constrained model-free algorithms that use barrier functions <cit.>, orthogonal projections <cit.>, or safety filters <cit.>, the state  in (<ref>) can actually hit the boundary of \ud835\udcb3 in a finite time, a situation that emerges in problems with saturation constraints. On the other hand, for safety-critical applications where the decision input  must stay within , the projection map can be applied to a shrunk feasible set \ud835\udcb3_\u03b5_a satisfying \ud835\udcb3_\u03b5_a+\u03b5_a\ud835\udd39\u2286\ud835\udcb3. In addition, as stated below in Theorem <ref>, when \u03b5_\u03be and \u03b5_a are also sufficiently small, the trajectory  of (<ref>) will converge to a small tunable neighbor of the optimal set ^* that solves problem (<ref>).   \n\n\n\n\n\n\n\n\n\n \u00a7.\u00a7 Stability Analysis of the P-GZO Dynamics\n\n\n\n\n\n\n\nTo study the P-GZO dynamics (<ref>), we first establish the following lemma, showing that the solutions  of (<ref>) remain in the flow set \ud835\udc02_1. The proof is provided in Appendix <ref>. \n \n\n\n \nSuppose that Assumption <ref> holds.\n Let \ud835\udc33:=(\ud835\udc31,\u03be,\u03bc) be a solution of   P-GZO dynamics (<ref>)  with \ud835\udc33(0)\u2208\ud835\udc02_1.   Then,  \n \ud835\udc33(t)\u2208\ud835\udc02_1 and \ud835\udc31\u0302(t)\u2208\ud835\udcb3+\u03b5_a\ud835\udd39 for all t\u2208dom(\ud835\udc33). \n \n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWe analyze the stability and convergence properties of the  P-GZO dynamics (<ref>) based on the properties of a nominal \u201ctarget system\u201d, given by\n\n\n    \ud835\udc29\u2208,  \ud835\udc29\u0307=k_x(\ud835\udcab_\ud835\udcb3(\ud835\udc29-\u03b1_x\u2207 f(\ud835\udc29))-\ud835\udc29),\n\n\nwhich has been well studied in  the literature <cit.>. The following theorem, which is the first result of this paper, only relies on assuming the well-posedness of (<ref>) and suitable stability properties for (<ref>). Particular cases where these assumptions are satisfied are discussed afterwards.\n\n\n\n \n\nSuppose that Assumptions <ref>-<ref> hold, and \n\n\n\n\n  * Every solution of (<ref>) with \ud835\udc29(0)\u2208\ud835\udcb3 is complete;\n\n\n  * System (<ref>) renders the optimal set \ud835\udcb3^* forward invariant and uniformly attractive. \n\n\n\nThen, for any \u0394>\u03bd>0 there exists \u03b5\u0302_\u03be>0 such that for all \u03b5_\u03be\u2208(0,\u03b5\u0302_\u03be) there exists \u03b5\u0302_a>0 such that for all \u03b5_a\u2208(0,\u03b5\u0302_a), there exists \u03b5\u0302_\u03c9>0 such that for all \u03b5_\u03c9\u2208(0,\u03b5\u0302_\u03c9),  every solution \ud835\udc33 of the P-GZO dynamics \nwith \ud835\udc33(0)\u2208\ud835\udc02_1\u2229(\ud835\udcb2_1^*+\u0394\ud835\udd39)\u00d7\ud835\udd4b^n) is complete and satisfies:\n\n\n    (Practical Convergence):  lim sup_t\u2192\u221e  ||\ud835\udc31(t)||_\ud835\udcb3^*\u2264\u03bd,    \n       (Practical Safety):  \ud835\udc31(t)\u2208\ud835\udcb3, \ud835\udc31\u0302(t)\u2208\ud835\udcb3+\u03b5_a\ud835\udd39, \u2200 t\u2265 0,\n\n\nwhere \ud835\udcb2_1^*:={(\ud835\udc31,)\u2208\u211d^2n:\ud835\udc31\u2208\ud835\udcb3^*, =\u2207 f(\ud835\udc31)}. \n\n\n\n\n\n\n The complete proof of Theorem <ref> is presented in Section <ref> as a particular case of a more general result presented later in Theorem <ref>. The result of Theorem <ref> establishes two main properties: 1) convergence from arbitrarily large \u0394-compact sets of initial conditions to arbitrarily small \u03bd-neighborhoods of the optimal set, which is typical in zeroth-order algorithms; and 2) the safety result (<ref>) for  and  that holds for all time t\u2265 0. The result does not assume that the feasible set \ud835\udcb3 is bounded, but, when this is the case, the results become global.\n \n \n \n\n\nThe conditions under which the assumptions (a) and (b) in Theorem <ref>  hold for the nominal system (<ref>) have been extensively studied in the literature <cit.>. For example, these two assumptions hold when the objective function f is strictly convex <cit.>, in which case \ud835\udcb2_1^* is a singleton.  In fact, the result of Theorem <ref> holds even when \u2207 f in (<ref>) is replaced by a general strictly monotone mapping, since in this case assumptions (a) and (b) of Theorem <ref> also hold <cit.>. This implies that Theorem <ref> can also be used for decision-making problems in games using the pseudo-gradient instead of the gradient.\n\n\nOne of the main limitations of traditional zeroth-order algorithms that emulate gradient descent, such as (<ref>), is that the cost f might not be convex (or gradient-dominated) in \u211d^n, precluding global convergence results. In this case, projection maps can be used to restrict the evolution of the algorithm to \u201csafe\u201d zones \ud835\udcb3 where suitable convexity/monotonicity properties hold. This observation is illustrated in Figure <ref>, where a non-convex landscape, with multiple local minima, maxima, and saddle points, is safely optimized in a set \ud835\udcb3 where the assumptions of Theorems <ref> and <ref> hold. \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n \u00a7.\u00a7 Tracking Properties of P-GZO Dynamics\n\n\nFor many practical applications, the corresponding optimization problem (<ref>) is not static but time-varying, whose objective and constraints may change over time. This subsection considers the time-varying optimization setting by letting the objective f in (<ref>) depend on a time-varying parameter \u2208^p, i.e., we now consider mappings (,)\u21a6 f(,). In addition,   is assumed to be generated by an (unknown) exosystem in the form: \n\n\n\n    \u2208\u0398,  =\u03b5_\u03b8\u03a0(),\n\n\nwhere \u03b5_\u03b8>0 is a parameter that describes the rate of change of \u03b8, \u0398\u2282\u211d^p is a compact set, and \u03a0(\u00b7) is a locally Lipschitz map.\nSystem (<ref>) is assumed to make the set \u0398 forward invariant.\n\nAs a result, the optimizer ^* is also time-varying and forms a trajectory t\u21a6\ud835\udc31^*((t)). We study the tracking performance of the P-GZO dynamics for solving the time-varying version of problem (<ref>). We make the following assumption on the variation of f, which guarantees uniqueness of the optimal trajectory t\u21a6\ud835\udc31^*().\n\n\n\n\n\n\n\n\nThere exists a continuously differentiable function :\u211d^p\u2192\u211d^n such that\n\n\n    \ud835\udc31^*():=()=argmin_\ud835\udc31\u2208\ud835\udcb3f(\ud835\udc31,),\n\n\nfor all \u2208\u0398. Also, there exist \u2113,\u03b3>0 such that \n\n\n\n    ||\u2207 f(\ud835\udc31,)-\u2207 f(\ud835\udc32,)||\u2264\u2113||\ud835\udc31-\ud835\udc32||,\n       f(\ud835\udc31,)-f(\ud835\udc32,)\u2265\u2207_ f(\ud835\udc32,)(\ud835\udc31-\ud835\udc32)+\u03b3/2||\ud835\udc31-\ud835\udc32||^2,\n\n\nfor all \ud835\udc31,\ud835\udc32\u2208\u211d^n and  \u2208\u0398.\n\nIn addition, there exists M>0 such that \n\n\n    ||\u2202/\u2202\u2207_ f(\ud835\udc31,) ||\u2264 M,\n\n\nfor all \ud835\udc31\u2208\u211d^n and all \u2208\u0398.\n\n\n\n\n\n\n\nThe conditions (<ref>) and (<ref>) imply the smoothness and strong convexity of f with respect to , respectively, uniformly on \u03b8. They are commonly assumed in time-varying optimization problems and will enable an exponential practical input-to-state stability for the P-GZO dynamics (<ref>). The following theorem states the tracking performance of the P-GZO dynamics (<ref>), while preserving the Practical Safety property (<ref>). The proof is presented in Section <ref>.\n\n\n\n\n\n\n\n\n  \nConsider the system dynamics (<ref>), (<ref>) with the flow set  \n\ud835\udc02_1\u00d7\u0398. Suppose that Assumptions <ref>-<ref> hold.  Then, there exists c>0 such that for any \u0394>\u03bd>0, there exists \u03b5\u0302_\u03be>0 such that for all \u03b5_\u03be\u2208(0,\u03b5\u0302_\u03be), there exists \u03b5\u0302_a>0 such that for all \u03b5_a\u2208(0,\u03b5\u0302_a), there exists \u03b5\u0302_\u03c9>0 such that for all \u03b5_\u03c9\u2208(0,\u03b5\u0302_\u03c9),\n every solution \ud835\udc33 of the P-GZO dynamics with \ud835\udc33(0)\u2208\ud835\udc02_1\u2229(( \ud835\udc30^*(0)+\u0394\ud835\udd39)\u00d7\ud835\udd4b^n) is complete and satisfies the Practical Safety property (<ref>), and also: \n\n\n    (Practical Tracking):\n           lim sup_t\u2192\u221e ||\ud835\udc31(t)-\ud835\udc31^*((t))||\u2264 c\u00b7sup_t\u22650||(t)||+\u03bd.\n\n\nwhere  \ud835\udc30^*(0):= (\ud835\udc31^*((0)),  \u2207 f(\ud835\udc31^*((0))) ).\n\n\n\n\n\n\n\n\n\n\n\n\n\n \nThe proof of Theorem <ref> relies on  \ninput-to-state stability (ISS) tools for perturbed systems, which have been recently exploited to study other model-free optimization problems, e.g., <cit.>. Due to the continuity of \u03a0(\u00b7) and the compactness of \u0398, the function t\u21a6(t) is uniformly bounded,  and thus the term sup_t\u22650||(t)|| in (<ref>) is well-defined and bounded by \u03b5_\u03b8cmax_\u2208\u0398\u03a0().\n\n\n\n\n\n\n\n\n\n \nTo illustrate the tracking behaviors of the P-GZO dynamics, we consider a simple problem in the plane, where f(\ud835\udc31,)=(x_1-x_1^*())^2+(x_2-x_2^*())^2 and the feasible set is the disk :={\u2208\u211d^2: (x_1-1.5)^2+x_2^2\u22649/4}. Let  be generated by the dynamics \n \u03b8\u0307_1=\u03b5_\u03b8sin(2\u03b8_2), \u03b8\u0307_2=\u03b5_\u03b8/2cos(\u03b8_1), with \u03b5_\u03b8=1\u00d7 10^-3 and let  x_i^*():=\u03b8_i, i\u2208[2].\n \n To ensure strict safety, we use an \u03b5_a-shrunk feasible set _\u03b5_a:= {: (x_1-1.5)^2+x_2^2\u2264 (3/2-\u03b5_a)^2}.\n Figure <ref> shows the time-varying optimizer trajectory t\u21a6^*(t) and the solution trajectory t\u21a6(t) of the P-GZO dynamics (<ref>) under frequencies that are not necessarily too large, e.g., \u03b5_\u03c9\u223c\ud835\udcaa(10^0), and amplitudes that are not necessarily too small, e.g., \u03b5_a\u223c\ud835\udcaa(10^-1), which is a situation that is common in practical applications with computational limitations. It is observed that (t) tends to closely track ^*(t) in the interior and   the boundary of \ud835\udcb3.  \n\n \n\n\n\n\n\n\n\n\n\n \u00a7.\u00a7 Switching Objective Functions\n\n\nThis subsection considers the problem setting with switching objective functions. Depending on the information available to the decision-maker,  the objective function in (<ref>) is drawn from a finite collection of functions {f_q(\ud835\udc31)}_q\u2208 Q. The selection of the current function to be optimized at each time t might be performed by an external entity, leading to passive switching, or by the decision-maker, leading to active switching. In both cases, we show that provided the minimizers and critical points coincide across functions, the P-GZO dynamics can safely achieve extremum seeking in a model-free way. \n\nUnder switching objective functions,  the dynamics of the low-pass filter (<ref>) become\n\n\n\n    =1/\u03b5_\u03be(-+2/\u03b5_af_q(\ud835\udc31\u0302)),\n\n\nwhere q is a switching signal that selects from the set of indices Q:={1,2,\u2026,q\u0305}, with q\u0305<\u221e, the function f_q to be used in the model-free algorithm at each time t, see Figure <ref>.\n\n\nThis switching signal is generated by the following hybrid dynamical system <cit.>:\n\n\n\n    (q,\u03c4)\u2208 Q\u00d7[0,N_0],\u00a0\u00a0\u00a0q\u0307=0,\u00a0\u00a0\u00a0     \u03c4\u0307\u2208[0,1/\u03c4_d],\n       (q,\u03c4)\u2208 Q\u00d7[1,N_0],\u00a0\u00a0\u00a0q^+\u2208 Q\\{q},\u00a0\u00a0\u03c4^+=\u03c4-1,\n\n\n\nwhere the state \u03c4 is a timer indicating when the signal q is allowed to switch via (<ref>). In (<ref>), \u03c4_d>0 is called the dwell-time, and N_0 is the chatter bound. As shown in <cit.>, the hybrid system (<ref>) guarantees that every switching signal q satisfies an average dwell-time (ADT) constraint. In particular, for every pair of times (t_1,t_2) with t_2>t_1, every solution of (<ref>) satisfies:\n\n\n    \ud835\udcae(t_1,t_2)\u22641/\u03c4_d(t_2-t_1)+N_0,\n\n\nwhere \ud835\udcae(t_1,t_2) is the number of switches between times t_1 and t_2. The following theorem establishes the convergence and safety properties of the P-GZO dynamics under switching objectives. For simplicity, we consider the static optimization case when the optimizer ^* is not time-varying but remains the same, and we omit the dependence of  on discrete-time indices, which is typical in hybrid systems of the form (<ref>). The proof of Theorem <ref> is provided in   Section <ref>.\n\n\n\n\n\nConsider the system dynamics (<ref>), (<ref>), (<ref>), (<ref>).\nSuppose that all functions in {f_q()}_q\u2208 Q are strongly convex and smooth,  Assumptions <ref> and <ref> hold for each of them, and they share\n\n\n\n\n  (a) common minimizer: ^*=min f_q(),\u00a0for all q\u2208 Q;\n\n\n  (b) common critical point: ^*=\u2207 f_q(^*), \u00a0for all q\u2208 Q.\n\n\nThen, for any \u0394>\u03bd>0, there exists \u03b5\u0302_\u03be>0 such that for all \u03b5_\u03be\u2208(0,\u03b5\u0302_\u03be), there exists \u03b5\u0302_a>0 such that for all \u03b5_a\u2208(0,\u03b5\u0302_a), there exists \u03b5\u0302_\u03c9>0 such that for all \u03b5_\u03c9\u2208(0,\u03b5\u0302_\u03c9),\n every solution (t) of the P-GZO dynamics (<ref>), (<ref>), (<ref>) with \ud835\udc33(0)\u2208\ud835\udc02_1 \u2229(((^*,^*)+\u0394\ud835\udd39)\u00d7\ud835\udd4b^n) is complete and satisfies the Practical Safety property (<ref>), and also:\n\n\n\n    (Practical Stability under ADT Switching):\n    lim sup_t\u2192\u221e ||\ud835\udc31(t)-\ud835\udc31^*||\u2264\u03bd.\n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFor unconstrained optimization problems, it has been shown in <cit.> and <cit.> that switched  ES algorithms are stable when each mode is stable and the switching is sufficiently slow.\n\nThe novelty of Theorem <ref> lies in the incorporation of constraints  into the switched zeroth-order dynamics via projection maps.  Moreover, as shown in the analysis, the rate of convergence in (<ref>) and (<ref>) is actually exponential. \n\n\n\n\n Real-time optimization problems with switching costs and safety constraints emerge in many engineering problems. For example, in the economic dispatch problem in electric power systems, the generation fuel costs and electricity prices can change over time, but sudden small price changes  may not lead to   different optimal dispatch solutions. \n\n\n\n\n\n\n\n\n\n\n\n \u00a7.\u00a7 Projected Primal-Dual ZO Dynamics with Lipschitz Projections\n \n\nWe now consider the complete optimization problem (<ref>), including the inequality constraints (<ref>). To solve  this problem, we first introduce the dual variable :=(\u03bb_j)_j\u2208[m]\u2208_+^m for the inequality constraints (<ref>),\nand we formulate the  saddle \n point problem  (<ref>):\n \n\n    max_\u2208_+^m min_\u2208\ud835\udcb3  L(,):=f()+  ^\u22a4(),\n\n\nwhere  L(,) is the  Lagrangian function. Denote := [;], \ndefine \ud835\udcb4:= \ud835\udcb3\u00d7_+^m as the feasible set  of , and denote ^* as the set of the saddle points that solve  (<ref>). \nBy strong duality (implied by Assumptions <ref> and <ref>), the -component of any saddle point ^*:= [^*;^*]\u2208^* of (<ref>) is an optimal solution to problem (<ref>).\n\nSimilar to the design of P-GZO dynamics (<ref>) in Section <ref>, \nwe develop the projected primal-dual zeroth-order (P-PDZO) dynamics (<ref>) for the solution of problem (<ref>):\n\n \n\n    = k_x[_ (  - \u03b1_x  _1 ) -], \n        =k_\u03bb[ __+^m(  + \u03b1_\u03bb_2\n         ) -],\n    _1    =1/\u03b5_\u03be[ -_1 + 2/\u03b5_a(f() + \n              ^\u22a4 () )],\n        \n    _2    =1/\u03b5_\u03be[ -_2 +  () ],  \n       =1/\u03b5_\u03c9\u039b(\u03ba) ,\n\n\nwhere  the parameters are defined in the same way as (<ref>), and  and  are defined as (<ref>) and (<ref>), respectively. Thus, the P-PDZO dynamics  (<ref>) is restricted to evolve in the flow set\n\n\n    \ud835\udc02_2=\ud835\udcb3\u00d7\u211d_+^m\u00d7\u211d^n\u00d7\u211d^m\u00d7\ud835\udd4b^n.\n\n\n\nThe P-PDZO dynamics (<ref>) can be regarded as a generalization of the P-GZO dynamics (<ref>) that further incorporates the inequality constraint (<ref>). Hence, the properties of P-GZO are generally applicable to P-PDZO, such as those mentioned in Remarks <ref> and <ref>.  \nThe following lemma states the forward invariance of \ud835\udc02_2, which\ndirectly follows by Lemma <ref> by replacing \ud835\udcb3 with\n  \ud835\udcb3\u00d7\u211d_+^m, and thus we omit the proof here.\n\n\n\n\n\nSuppose that Assumption <ref> holds. Let \ud835\udc33:=(\ud835\udc31,,_1,_2,) be a solution of the P-PDZO dynamics (<ref>). Then, \ud835\udc33(t)\u2208\ud835\udc02_2 and \ud835\udc31\u0302(t)\u2208\ud835\udcb3+\u03b5_a\ud835\udd39 for all t\u2208dom(\ud835\udc33).  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWe study the stability properties of the P-PDZO dynamics (<ref>) based on the stability of the nominal target system:\n\n \n\n    \ud835\udc29\u0307_1    = k_1[_( \ud835\udc29_1 - \u03b1_1( \u2207 f(\ud835\udc29_1) +   \u2207(\ud835\udc29_1)^\u22a4_2 )   ) -\ud835\udc29_1 ], \n    \ud835\udc29\u0307_2     = k_2 [__+^m( \ud835\udc29_2 + \u03b1_2 (\ud835\udc29_1)\n         ) -\ud835\udc29_2],\n\n\n\nwhere \u2207:= [\u2207^\u22a4 g_1;\u22ef;\u2207^\u22a4 g_m ] is the Jacobian matrix. \n\nThe nominal system (<ref>) is \na well-known projected saddle flow that has been widely studied in the literature <cit.>.\n\n\nThe following theorem shows that the component  of the solution of (<ref>) will converge to  a neighborhood of the saddle-point set ^* using only zeroth-order information of f and , provided ^* is compact and uniformly globally asymptotically stable (UGAS) under the nominal system (<ref>). The proof is presented in Section <ref>.\n\n\n\n\n\nLet :=[_1;_2], and suppose that Assumptions <ref>-<ref> hold, and:  \n\n\n\n\n  * The saddle point set ^* is compact;\n\n\n  * Every solution of (<ref>) with (0)\u2208 is complete; \n\n\n  * System (<ref>) renders the saddle point set ^* forward invariant and uniformly attractive.\n\n\n\nThen, for any \u0394>\u03bd>0, there exists \u03b5\u0302_\u03be>0 such that for all \u03b5_\u03be\u2208(0,\u03b5\u0302_\u03be), there exists \u03b5\u0302_a>0 such that for all \u03b5_a\u2208(0,\u03b5\u0302_a), there exists \u03b5\u0302_\u03c9>0 such that for all \u03b5_\u03c9\u2208(0,\u03b5\u0302_\u03c9),\n every solution \ud835\udc33(t) of the P-PDZO dynamics (<ref>) with \ud835\udc33(0)\u2208\ud835\udc02_2\u2229 ( (\ud835\udcb2^*_2+\u0394\ud835\udd39)\u00d7\ud835\udd4b^n) is complete and satisfies:\n\n\n    (Practical Stability):  lim sup_t\u2192\u221e  ||\ud835\udc32(t)||_\ud835\udcb4^*\u2264\u03bd,    \n       (Practical Safety):  \ud835\udc32(t)\u2208\ud835\udcb4, \ud835\udc31\u0302(t)\u2208\ud835\udcb3+\u03b5_a\ud835\udd39, \u2200 t\u2265 0,\n\nwhere \ud835\udcb2_2^*:={(\ud835\udc32,_1,_2)\u2208^2(n+m):\ud835\udc32\u2208\ud835\udcb4^*, _1=\u2207 f(\ud835\udc31) +   \u2207(\ud835\udc31)^\u22a4, _2 = ()}.\n \n\n\n\n\n\n\n\n\n\n\nThe assumption of a compact saddle point set ^* in Theorem <ref> is  commonly made in order to use the analysis tools of averaging theory and singular perturbation theory.  For many practical applications,\n\nthe feasible set\n   describes physical capacity limits or control saturation bounds, and thus is naturally compact. \n In addition, we can \n  replace the feasible region _+^m of the dual state  by the feasible box set  [0,M_\u03bb]^m with a sufficiently large M_\u03bb such that the saddle point set of practical interest is compact. \n\n\n\n\n\nAs discussed in Section II-B, the vanilla ES algorithm (<ref>) emulates the behavior of an \ud835\udcaa(\u03b5_a)-perturbed gradient flow. Similarly, the P-GZO dynamics (<ref>) emulate the behavior of an \ud835\udcaa(\u03b5_a)-perturbed projected gradient flow, and the P-PDZO dynamics (<ref>) emulate the behavior of an \ud835\udcaa(\u03b5_a)-perturbed projected saddle flow. While model-based algorithms of this form have been extensively studied in the literature, continuous-time zeroth-order implementations of these dynamics with stability and safety guarantees were mostly unexplored. Since in many cases the stability properties of (27) (see items (a)-(c) of Theorem 5) are established via the Krasovskii-LaSalle invariance principle, the result of Theorem 4 allows us to establish stability properties for the model-free algorithm with similar generality as their model-based counterparts.\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u00a7 MODEL-FREE FEEDBACK OPTIMIZATION WITH DISCONTINUOUS PROJECTIONS\n \n\n\nIn  Section <ref> above, all the ZO algorithms employed the Euclidean projection onto  the feasible set \ud835\udcb3, which leads to ordinary differential equations (ODEs) with Lipschitz continuous vector fields on the right-hand side. This continuity property facilitates the well-posedness and stability analysis of the ZO dynamics, since the existence and uniqueness of solutions are guaranteed by standard results for ODEs <cit.>. In this section, we turn to the study of another class of projected ZO dynamics that enforce the hard constraints (<ref>) via discontinuous projection maps. This type of projection has been extensively studied in the field of (discontinuous) model-based projected dynamical systems\n   <cit.>. \n \n To simplify our presentation, we focus on the reduced problem (<ref>), which does not include the inequality constraints (<ref>). As shown in Section <ref>, such inequality constraints can be handled via primal-dual dynamics or additional penalty terms in the objective f; see  <cit.> for details.  \n \n\n\n\n\n \u00a7.\u00a7 GZO Dynamics with Discontinuous Projection\n\n\n\nTo solve the reduced problem (<ref>), we consider the following ZO dynamics: \n\n\n\n    \ud835\udc31\u0307   =k_x\ud835\udcab_T_\ud835\udcb3(\ud835\udc31)(- ), \n       =1/\u03b5_\u03be(-+2/\u03b5_af(\ud835\udc31\u0302) ),\n       =1/\u03b5_\u03c9\u039b_\u03ba,\n\n\n\nwhich are restricted to evolve in the flow set \ud835\udc02_1 defined in (<ref>). In (<ref>), the mapping \ud835\udcab_T_\ud835\udcb3(\ud835\udc31)(\u00b7)  projects the vector - onto the tangent cone of the feasible set \ud835\udcb3 at point , i.e., T_\ud835\udcb3(\ud835\udc31). As a result, the right-hand side of (<ref>) is in general discontinuous, but it  guarantees that  stays within the feasible set. Figure <ref> shows a block diagram of the dynamics (<ref>). In conjunction with the flow set (<ref>), we term the dynamics (<ref>) as discontinuous projected  gradient-based  zeroth-order (DP-GZO) dynamics. We study its stability and regularity properties using tools from differential inclusions and the notion of Krasovskii regularization <cit.>:\n\n\n\n\nConsider the ODE \ud835\udc33\u0307=(\ud835\udc33), where \ud835\udc33\u2208\ud835\udc02\u2282\u211d^n\n and :\u211d^n\u2192\u211d^n is locally bounded. The Krasovskii regularization of this ODE is the differential inclusion\n\n\n    \ud835\udc33\u2208\ud835\udc02,\u00a0\u00a0\ud835\udc33\u0307\u2208 K(\ud835\udc33):= \u22c2_\u03f5>0con\u00a0((\ud835\udc33+\u03f5\ud835\udd39)\u2229\ud835\udc02),\n\n\nwhere for a set , con() denotes its convex hull  and  denotes its closure. \n\n\n\n\n\n\n\nThe existence of solutions for the Krasovskii regularization of (<ref>) is guaranteed by   well-posedness of (<ref>) and standard viability results <cit.>. Moreover, it can be shown that system (<ref>) accurately captures the limiting behavior of (<ref>) under arbitrarily small additive perturbations on the states and dynamics via the so-called Hermes solutions <cit.>. This suggests that (<ref>) provides a useful characterization of the solutions of the ODE =() under small perturbations, a setting that naturally emerges in the context of ZO dynamics. \n\n\nThe solutions of (<ref>) are also solutions of its Krasovskii regularization, but the converse is not always true. However, under mild regularity assumptions on (<ref>), it turns out that every solution of its Krasovskii regularization is also a standard (i.e., Caratheodory) solution of (<ref>) <cit.>. This fact allows us to study the behaviors of the DP-GZO dynamics (<ref>) based on its nominal target system:\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    \ud835\udc29\u0307= k_x\u00b7\ud835\udcab_T_\ud835\udcb3(\ud835\udc29)(-\u2207 f(\ud835\udc29)).\n\n\nThe following theorem establishes the stability and (practical) safety properties for the DP-GZO dynamics (<ref>). The proof of Theorem <ref> is provided in Section <ref>.\n\n\n\n    \n\nSuppose that Assumptions <ref>-<ref> hold and that f is strictly convex. Then, for any \u0394>\u03bd>0, there exists \u03b5\u0302_\u03be>0 such that for all \u03b5_\u03be\u2208(0,\u03b5\u0302_\u03be), there exists \u03b5\u0302_a>0 such that for all \u03b5_a\u2208(0,\u03b5\u0302_a), there exists \u03b5\u0302_\u03c9>0 such that for all \u03b5_\u03c9\u2208(0,\u03b5\u0302_\u03c9),\n every solution \ud835\udc33(t) of the DP-ZO dynamics (<ref>)  with  \ud835\udc33(0)\u2208\ud835\udc02_1\u2229(\ud835\udcb2_1^*+\u0394\ud835\udd39)\u00d7\ud835\udd4b^n)  is complete and satisfies the Practical Convergence property (<ref>) and the Practical Safety property (<ref>).  \n\n\n\n\nAlthough the results of Theorem <ref> for the DP-GZO dynamics (<ref>) are similar to Theorem <ref> for the P-GZO dynamics (<ref>), their analyses and proof ideas are different, as the DP-ZO dynamics are discontinuous; see  Section <ref>.\n\n\n\n\n\n\n\n\n\n\n\nWith sufficiently small parameters \u03b5_a,\u03b5_\u03be,\u03b5_\u03c9, the \ud835\udc31-trajectories of the DP-GZO dynamics (<ref>) emulate the trajectories of (<ref>). \nSince any closed and convex set \ud835\udcb3\u2282\u211d^n is  Clarke regular <cit.> and prox-regular <cit.>, and since f is locally Lipschitz under Assumption <ref>, the solutions of (<ref>) and its Krasovskii regularization coincide and are unique <cit.>. Nevertheless, since the uniqueness of solutions is not required in our analysis, the convexity of \ud835\udcb3 and the strict convexity of f can be relaxed to mere Clarke regularity and the assumption that all first-order critical points of (<ref>) are optimal and also equilibria of (<ref>). \n\n\n\n\n\n \n\n \nTo illustrate the behavior of system (<ref>), we consider a simple example of problem (<ref>), where the feasible set := [-1,1]\u00d7 [-1,1] is a box constraint and the objective function f is the same as the one in Example <ref>, but now with \u03b8\u0307_1=-\u03b5_p\u03b8_2 and \u03b8\u0307_2=\u03b5_p\u03b8_1, \u03b5_p=1\u00d7 10^-3. As shown in  Figure <ref>, this exosystem makes the\n the minimizer of f in \u211d^n  (i.e., min_ f()) a slowly varying signal that forms a circular trajectory, shown in blue color. It can be observed that the trajectory  t\u21a6\ud835\udc31(t), shown in green, generated by the DP-GZO dynamics (<ref>) tends to closely track the blue minimizer trajectory, but it stays in the feasible set at all times due to the projection map. Similar to Example <ref>, we have replaced  with a shrunk set _\u03b5_a:= [-1+\u03b5_a,1-\u03b5_a]\u00d7 [-1+\u03b5_a,1-\u03b5_a] in  (<ref>) to ensure the actual input \u2208 all the time. Here, \u03b5_a=1\u00d7 10^-2, so the difference between _\u03b5_a and \ud835\udcb3 is almost indistinguishable. The right plot   shows the trajectory of each of the components of .  \n \n\n \n\n \n\n\n\n\n\n\n\n\n\n \u00a7.\u00a7 Structural Robustness\n\n\nThe ZO  algorithms proposed in this paper rely heavily on function evaluations (or system output measurements) to steer the decision variable \ud835\udc31\u0302 to an optimal solution of problem (<ref>) or (<ref>).\nHence, suitable robustness properties are necessary  to handle small disturbances and noises that are inevitable in practice. The following result, i.e., Corollary <ref>, \n indicates that, under the corresponding assumptions of Theorems <ref>-<ref>, all the proposed ZO algorithms (<ref>), (<ref>), (<ref>)    are structurally   robust   to small bounded additive perturbations  on the states and dynamics.\n We rewrite these ZO dynamics as \ud835\udc33\u2208\ud835\udc02, \ud835\udc33\u0307=(\ud835\udc33 ), and consider their perturbed dynamics    (<ref>):\n \n    \ud835\udc33+\ud835\udc1e\u2208\ud835\udc02,\u00a0\u00a0\u00a0\ud835\udc33\u0307=(\ud835\udc33+\ud835\udc1e)+\ud835\udc1e,\n\n where  is the state of the ZO dynamics, (\u00b7) denotes the  vector field describing the right-hand side of the dynamics,   is the additive noise, and \ud835\udc02 denotes the flow set.\n\n\n\n \n    Under the assumptions and parameters of Theorems <ref>-<ref>, there exists e\u0305>0 such that for any  additive   noise \ud835\udc1e(t):[0,+\u221e)\u2192^n with sup_t\u2265 0 ||\ud835\udc1e(t)||\u2264e\u0305, the trajectory (t) of the perturbed ZO dynamics (<ref>) satisfies the respective practical convergence bounds in Theorems <ref>-<ref>. \n\n\n\n\n\n\n\n\n\n\n\nThe result is a corollary of Theorems <ref>-<ref> because the convergence,  well-posedness, and stability properties of the dynamics imply that, for each sufficiently large compact set of initial conditions K, and fixed parameters of the controller that induce the convergence bounds (which are actually uniform, see Section <ref>), there exists a compact set that is locally asymptotically stable under the nominal dynamics (the so-called Omega-limit set of K), and also semi-globally practical asymptotically stable as e\u0305\u21920^+ for the perturbed system (<ref>) <cit.>. However, we note that Corollary <ref> only shows the existence of a sufficiently small e\u0305, such that any additive noise bounded by e\u0305 does not change drastically the convergence properties of the ZO algorithms. However, in practice, the computation of this robustness bound is important, but difficult and application-dependent. \n\n\n\n\n\n\n\n \u00a7.\u00a7 Non-Sinusoidal Dither Signals\n\n\nThe ZO algorithms above use   sinusoidal dither signals t\u21a6(t), generated by the linear dynamic oscillator (<ref>), as the perturbation to estimate the gradients, while other types of dither signals can also be employed <cit.>.  \n\n\nHowever, as discussed in <cit.>, these are not the only types of signals that can be used for the purpose of gradient and Hessian estimation via averaging theory. In particular, we could also consider any vector of piece-wise continuous T-periodic\n\n\n\n\n\n\nprobing signals t\u21a6\ud835\udc1d(\u03bc(t)) that satisfies max_t\u2208[0,T]\ud835\udc1d(t) = 1 and\n\n\n    \u222b_0^T\ud835\udc1d(\u03bc(t)) dt = 0; \u00a0\u00a01/T\u222b_0^T\ud835\udc1d(\u03bc(t))\ud835\udc1d(\u03bc(t))^\u22a4 dt =1/\u03b7_d I_n\n\n\nfor some known \u03b7_d>0. Common choices of the  probing signals include sinusoidal, triangular waves, and square waves defined in the scalar case as \n\n \n    \ud835\udc1d_sq(\u03bc(t))\n         1,     t\u2208 [2k\u03c0, (2k+1)\u03c0]\n    \n         -1,     t\u2208 [(2k+1)\u03c0, 2(k+1)\u03c0]\n         ,  k\u2208\u2124.\n\n\nNote that (<ref>) holds with \u03b7_d = 2 for sinusoidal dithers,  while \u03b7_d = 1 for square-wave signals d_sq. Similarly, for the square signals we also require \u03ba_i \u2260 (2k+1)\u03ba_j for all k\u2208\u2124 and i\u2260 j to meet the above. As discussed in <cit.>, a variety of these signals can be generated by autonomous (sometimes hybrid) dynamical systems. Indeed, when t\u21a6\ud835\udc1d(\u03bc(t)) is not periodic or continuous, but still generates a well-defined average map, generalized averaging theorems can be used to establish stability results without changing the stability analysis. The averaging techniques used in this paper can be applied to these and other non-smooth dither signals by making use of hybrid boundary layer dynamics, see <cit.>.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u00a7 ANALYSIS AND PROOFS\n\n\n\nIn this section, we present the proofs of our main results. Since the result of Theorem <ref> can be seen as a particular case of Theorem <ref> when the set of inequality constraints (<ref>) is empty, we first  present the proof of Theorem <ref>. Subsequently, we show how to adapt this proof to Theorem <ref>. The proofs of Theorems <ref>, <ref>, <ref> are based on the construction of suitable Lyapunov functions, and therefore are presented afterwards.\n\n\n\n\n\n\n \u00a7.\u00a7 Proof of Theorem <ref>\n\n\n\nLet :=[;], :=[_1;_2], and :=[;]. \nThe P-PDZO dynamics (<ref>)-(<ref>) can be written in compact form as\n\n\n    =    [ ;  ] = [            \ud835\udc2a_1(,); 1/\u03b5_\u03be(- + \ud835\udc2a_2(,)) ]:= \ud835\udc2a(,),\n\n\nwhere \ud835\udc2a_1 captures the dynamics (<ref>) and _2 is given by\n\n\n    _2(\ud835\udc32,):=[ 2/\u03b5_a(f()+^\u22a4() );               () ],\n\n\nwhere  is generated by the oscillator (<ref>), and \ud835\udc31\u0302, are defined in (<ref>) and (<ref>). We analyze the stability properties of this system using multi-time scale techniques based on averaging theory and singular perturbation theory. We divide the analysis into the following three main steps.\n\n\n\nStep 1) Behavior of system (<ref>) restricted to compact sets: Let \u0394>0 and :=\ud835\udcb3\u00d7\u211d^m_+. Consider the compact set [(^*+\u0394\ud835\udd39)\u2229]\u00d7\u0394 for the initial condition (0) and any desired \u0394>0\n. Here, \n ^*+\u0394\ud835\udd39 denotes \n the union of all sets obtained by taking a closed ball of radius \u0394 around each point in the saddle point set ^*. \n\nBy items (a)-(c) in Theorem <ref>, the compact set \ud835\udcb4^* is uniformly globally asymptotically stable\n(UGAS) for the model-based dynamics (<ref>) restricted to evolve in , which is also a forward invariant set. Thus, there exists a class-\ud835\udca6\u2112 function \u03b2 such that for any initial condition \ud835\udc29(0)\u2208, the solutions \ud835\udc29 of   (<ref>) satisfy ||\ud835\udc29(t)||_^*\u2264\u03b2(||\ud835\udc29(0)||_^*,   t) for all t\u22650. Without loss of generality, let \u03bd\u2208(0,1) and consider the set\n\n\n    :={\u2208:   ||\ud835\udc32||_^*\u2264\u03b2( max_\u2208^*+\u0394\ud835\udd39 ||||_^*,  0 )+1  }.\n\n\nNote that the set  is compact under the assumption that ^* is compact.\nDue to the boundedness of , there exists a positive constant M_1 such that \u2282 M_1. Let \n\n\n    \u2113():=[ \u2207 f() + \u2211_j=1^m \u03bb_j \u2207 g_j();                          () ],\n\n\nand note that, by continuity of \u2113, there exists a positive constant M_2>max{\u0394,1} such that ||\u2113()|| +1\u2264 M_2 for all ||||\u2264 M_1. Denote M_3= M_2+1.\n We then study the behavior of system (<ref>) restricted to evolve in the compact set \u00d7 M_3.  \n\n\n\n\n\nStep 2) Stability properties of the average dynamics of system (<ref>): Since the solutions of the oscillator (<ref>) are given by (<ref>), and \u03bc_i(0)^2+\u03bc_i+1(0)^2=1 for all i\u2208{1,3,\u2026,2n-1},  system (<ref>) with small values of \u03b5_\u03c9  is in standard form  for the application of averaging theory along the trajectories of .  The following Lemma <ref> characterizes the average map of \ud835\udc2a_2. The proof is presented in Appendix <ref>.\n\n\nThe average of t\u21a6_2(,(t)) is given by\n\n\n    _2():=   1/T\u222b_0^T _2(\ud835\udc32,(t))  dt\n        = \u2113() +(\u03b5_a),\n\n\nwhere T is the   common  period of . \n\n\n\nUsing Lemma <ref>,\nwe obtain the average dynamics of (<ref>):\n\n\n    = [ ;  ]=[                  \ud835\udc2a_1(,); 1/\u03b5_\u03be(- + \u2113() +(\u03b5_a)  ) ],\n\n\nwhere :=[;]. We study (<ref>)  restricted to evolve in the compact set \u00d7 M_3. \nWe treat the right-hand side of (<ref>) as an (\u03b5_a)-perturbation of a nominal system with \u03b5_a=0. This nominal system (i.e., (<ref>) with \u03b5_a=0) is in the standard form for the application of singular perturbation theory <cit.>, with  being the slow state, and  being the fast state. The boundary layer dynamics of this nominal system, in the time scale \u03c4=t/\u03b5_\u03be, are \n\n    d /d \u03c4 = -  +\u2113(),\n \nwhere  is kept constant. This linear system (<ref>) has a unique exponentially stable equilibrium point ^*=\u2113(). As a result, the associated reduced system  is derived as \n\n\n    = _1(, \u2113()),\n\n\nwhich is exactly the nominal target system (<ref>). Under the assumptions of Theorem <ref>, system (<ref>) renders the set ^* UGAS. By using singular perturbation theory <cit.>, we can conclude that, as \u03b5_\u03be\u2192 0^+, the set ^*\u00d7M_3\ud835\udd39 is semi-globally practically asymptotically stable (SGPAS) for the unperturbed average system (<ref>) with \u03b5_a=0. Since system (<ref>) has a continuous right-hand side , the perturbed average system  (<ref>) also renders the set ^*\u00d7M_3\ud835\udd39 SGPAS as (\u03b5_\u03be,\u03b5_a)\u2192 0^+, which is stated as Lemma <ref>.\n\n\n\n\n \nThere exists \u03b2\u2208\ud835\udca6\u2112 such that for each \u03bd>0,\nthere exists \u03b5\u0302_\u03be>0 such that for any \u03b5_\u03be\u2208(0,\u03b5\u0302_\u03be), there exists \u03b5\u0302_a>0 such that for any \u03b5_a\u2208 (0,\u03b5\u0302_a), \nevery solution  of the average system (<ref>) (restricted in \u00d7 M_3) with initial condition (0)\u2208 [(^*+\u0394\ud835\udd39)\u2229]\u00d7\u0394 satisfies \n\n    ||(t)||_^*\u2264\u03b2(||(0)||_^*,   t) +\u03bd/4,\n\n\nfor all t\u2208dom(). \n\n\n\n\nSince the average system (<ref>) is restricted in \u00d7 M_3, we have ||(t)||_M_3 = 0 for all t\u2208dom(), which implies that ||(t)||_^*\u00d7 M_3 =  ||(t)||_^* for all t\u2208dom(). Hence, it follows that for all t\u2208dom():\n\n\n    ||(t)||_^*\u00d7 M_3\u2264\u03b2(||(0)||_^*\u00d7 M_3,  t) +\u03bd/4.\n\n\nNext, we show the completeness of solutions of the average  system (<ref>) by leveraging Lemma <ref>, which follows as a special case of <cit.>.\n\n \nLet k,M_2>0 be given and \ud835\udc2e:_+ \u2192 M_2 be a continuous function of time. Then, the set M_2 is forward invariant under the dynamics = k\u00b7(- +\ud835\udc2e(t)). \n\n\n\n\nUnder the initial condition (0)\u2208 [(^*+\u0394\ud835\udd39)\u2229]\u00d7\u0394, by (<ref>), the trajectory \ud835\udc32\u0305 of (<ref>) satisfies \ud835\udc32\u0305(t)\u2208int() for all t\u2208dom(). This implies that  ||\ud835\udc32\u0305(t)||\u2264 M_1 and thus ||\u2113(\ud835\udc32\u0305(t)) +(\u03f5_a))||< M_2 for all t\u2208dom(), where we take ||(\u03f5_a)||<1 for all \u03b5_a\u2208 (0,\u03b5\u0302_a) without loss of generality. Using Lemma <ref>, (t) \u2208 M_2\u2282int(M_3) for all t\u2265 0. Thus, under the given initialization,  satisfies \n\n\n    (t)\u2208int(\u00d7 M_3),   \u2200 t\u2265 t_0,\n\n\nand thus it has an unbounded time domain. The following lemma proved in Appendix <ref> will be useful for our results.\n\n\n\n\n\nThere exists \u03b5\u0302_\u03be>0 such that for any \u03b5_\u03be\u2208(0,\u03b5\u0302_\u03be), there exists \u03b5\u0302_a>0 such that for any \u03b5_a\u2208 (0,\u03b5\u0302_a),  there exists a compact set[See <cit.> for the  notion of \u201cOmega-limit set of a set\".] \u03a9(\u00d7 M_3) that is uniformly globally (pre)-asymptotically stable for the average system (<ref>) restricted to \u00d7 M_3. \n\n\n\nStep 3) Link the stability property of the average dynamics (<ref>) to the stability property of the original system (<ref>): Since  the set ^*\u00d7 M_3 is SGPAS for the average system (<ref>) (restricted in \u00d7 M_3) as (\u03b5_\u03be,\u03b5_a)\u2192 0^+, by averaging theory for perturbed systems <cit.>, it follows that for each pair of (\u03b5_\u03be,\u03b5_a) inducing the bound (<ref>), there exists \u03b5\u0302_\u03c9>0 such that for any \u03b5_\u03c9\u2208(0,\u03b5\u0302_\u03c9), the solution  of the original system (<ref>) (restricted to \u00d7 M_3) satisfies \n\n\n    ||(t)||_^*\u00d7 M_3\u2264\u03b2(||(0)||_^*\u00d7 M_3,  t) +\u03bd,\n\n\nfor all t\u2208dom(). Since  ||(t)||_^*= ||(t)||_^*\u00d7 M_3 for all t\u2208dom(), we obtain the bound  (<ref>).  The only task left is to show the completeness of solutions of the original  system (<ref>). This can be done by using the following lemma, corresponding to <cit.>.\n\n\n\n\n\n\n\nLet (\u03b5_\u03be,\u03b5_a)>0 take sufficiently small values such that Lemmas <ref> and <ref> hold. Then, for each T,\u03b4>0, there exists \u03b5\u0302_\u03c9>0 such that for all \u03b5_\u03c9\u2208 (0,\u03b5\u0302_\u03c9)  and all solutions  of the original system (<ref>), with \ud835\udc2c(0)\u2208 [(^*+\u0394\ud835\udd39)\u2229]\u00d7\u0394\ud835\udd39, there exists a solution \ud835\udc2c\u0305 of the average system (<ref>), with \ud835\udc2c\u0305(0)\u2208 [(^*+\u0394\ud835\udd39)\u2229]\u00d7\u0394\ud835\udd39 such that \ud835\udc2c and \ud835\udc2c\u0305 are (\u03c4,\u03b5) close. \n\n\n\n\n\n\n\n\n\n\n\n\nBy Lemma <ref>, there exists a \ud835\udca6\u2112-class function \u03b2\u0303 such that every solution of the average system (<ref>) satisfies \n\n\n    ||(t)||_\u03a9( \u00d7 M_3 )\u2264\u03b2\u0303( ||(0)||_\u03a9( \u00d7 M_3 ),t),\n\n\nfor all t\u2208dom(). Moreover, by (<ref>), the trajectories  are complete if (0)\u2208 [(^*+\u0394\ud835\udd39)\u2229]\u00d7\u0394. Using this bound, the closeness of solutions property of Lemma <ref>, and stability results in averaging theory <cit.>, there exists \u03b5\u0302_\u03c9 such that for all \u03b5_\u03c9\u2208(0,\u03b5\u0302_\u03c9), every solution of the original system (<ref>) with (0)\u2208 [(^*+\u0394\ud835\udd39)\u2229]\u00d7\u0394, satisfies \n \n \n    ||(t)||_\u03a9( \u00d7 M_3 )\u2264\u03b2\u0303(||(0)||_\u03a9( \u00d7 M_3 ),t)+\u03bd/2,\n\n\nfor all t\u2208dom(\ud835\udc2c). This implies that (t) \u2208int(\u00d7 M_3) for all t\u22650.  Therefore, every solution  of the original system (<ref>), under the given initialization, has an unbounded time domain. Thus Theorem <ref> is proved. \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n \u00a7.\u00a7 Proof of Theorem <ref>\n \n\nThe proof of Theorem <ref> follows the same steps as the proof of Theorem <ref>. In this case, \ud835\udc2a_2:=2/\u03b5_af(\ud835\udc31\u0302), and the function \u2113(\u00b7) in (<ref>) becomes \u2113(\ud835\udc31)=\u2207 f(\ud835\udc31). Therefore, system (<ref>) is precisely the Lipschitz continuous projected gradient flow (<ref>). Under the conditions (a) and (b) in Theorem <ref>, there exists a class \ud835\udca6\u2112 function \u03b2 such that Lemma 6 holds. The rest proof follows the same steps as the proof of Theorem <ref>.\n\n\n\n\n\n\n \u00a7.\u00a7 Proof of Theorem <ref>\n \n\n Following similar computations to those in Lemma <ref>, we \ncompute the average dynamics of (<ref>) along the trajectories of  and \nobtain:\n\n\n\n    \ud835\udc31\u0307\u0305\u0307   =k_x \ud835\udcab_\ud835\udcb3(\ud835\udc31\u0305-\u03b1_x )-k_x\ud835\udc31\u0305,\n       =1/\u03b5_\u03be(-+\u2207_ f(\ud835\udc31\u0305,)+\ud835\udcaa(\u03b5_a)), \n       =\u03b5_\u03b8\u03a0(),\n\n\n\nwhich is restricted to evolve in the set \ud835\udc02_3:=\ud835\udcb3\u00d7\u211d^n\u00d7\u0398. Next, we establish a key lemma for the average system (<ref>).\n\n\n\n\n\n\nFor system (<ref>) with \u03b5_a=0 and \u03b5_\u03b8>0, there exist \u03b1\u0302_x, k\u0302_x,\u03b5\u0302_\u03be>0, such that for all \u03b1_x\u2208(0,\u03b1\u0302_x), all k_x\u2208(0,k\u0302_x) and all \u03b5_\u03be\u2208(0,\u03b5\u0302_\u03be), every solution satisfies\n\n\n    ||(t)-^*((t))||\u2264 c_1||(0)   -^*((0))||e^-c_2 t\n            +csup_0\u2264\u03c4\u2264 t||(\u03c4)||,\n\n\nwhere \ud835\udc2c\u0305:=(\ud835\udc31\u0305,),  \ud835\udc2c^*():=(\ud835\udc31^*(),\u2207_ f(\ud835\udc31^*(),)), and c_1,c_2,c>0. \n\n\n\nProof: We introduce the error variables \ud835\udc31\u0303:=\ud835\udc31\u0305-\ud835\udc31^*() and :=-\u2207_f(\ud835\udc31\u0303+\ud835\udc31^*,), which leads to the error dynamics\n\n\n\n    \ud835\udc31\u0307\u0303\u0307   =k_x\ud835\udcab_\ud835\udcb3(\ud835\udc31\u0303+\ud835\udc31^*-\u03b1_x(+\u2207_ f(\ud835\udc31\u0303+\ud835\udc31^*,)))\n       \u00a0\u00a0\u00a0-k_x (\ud835\udc31\u0303+\ud835\udc31^*)-\ud835\udc31\u0307^*, \n       =-1/\u03b5_\u03be-d/dt\u2207_ f(\ud835\udc31\u0303+\ud835\udc31^*,).\n \n\n\nWe study the stability properties of (<ref>) with respect to the origin. To this end, we consider the Lyapunov function: \n\n\n    W(\ud835\udc31\u0303,)=(1-\u03bb)V_x(\ud835\udc31\u0303)+\u03bb V_\u03be(),\n\n\nwhere \u03bb\u2208(0,1),  V_x(\ud835\udc31\u0303)=1/2||\ud835\udc31\u0303|||^2 and V_\u03be()=1/2||||^2. The function (<ref>)\nis radially unbounded and positive definite, and it satisfies \u1e86\n=(1-\u03bb)\ud835\udc31\u0303^\u22a4\ud835\udc31\u0307\u0303\u0307+\u03bb^\u22a4. Let (,\ud835\udc31\u0303):=\u2207_ f(\ud835\udc31\u0303+\ud835\udc31^*,) and thus =  + (,\ud835\udc31\u0303). We rewrite the \ud835\udc31\u0303-error dynamics (<ref>) compactly as \n\n    \ud835\udc31\u0307\u0303\u0307= _x(\ud835\udc31\u0303,+(,\ud835\udc31\u0303))-\ud835\udc31\u0307^*.\n\nIt follows that\n\n\n    \ud835\udc31\u0303^\u22a4\ud835\udc31\u0307\u0303\u0307=\ud835\udc31\u0303^\u22a4 (_x(\ud835\udc31\u0303,+(,\ud835\udc31\u0303))-\ud835\udc31\u0307^*) \n    \n    \n    =   \ud835\udc31\u0303^\u22a4 (_x(\ud835\udc31\u0303,+(,\ud835\udc31\u0303))-_x(\ud835\udc31\u0303,(,\ud835\udc31\u0303))) \n       \u00a0\u00a0\u00a0+\ud835\udc31\u0303^\u22a4( _x(\ud835\udc31\u0303,(,\ud835\udc31\u0303))-\ud835\udc31\u0307^*)\n    \u2264   ||\ud835\udc31\u0303||\u00b7||\ud835\udc31\u0307^*||+||\ud835\udc31\u0303||\u00b7||_x(\ud835\udc31\u0303,+(,\ud835\udc31\u0303))-_x(\ud835\udc31\u0303,(,\ud835\udc31\u0303))|| \n       \u00a0\u00a0\u00a0+\ud835\udc31\u0303^\u22a4_x(\ud835\udc31\u0303,(,\ud835\udc31\u0303)) \n    \u2264    ||\ud835\udc31\u0303||\u00b7||\ud835\udc31\u0307^*||+k_x\u03b1_x||\ud835\udc31\u0303||\u00b7||||+\ud835\udc31\u0303^\u22a4_x(\ud835\udc31\u0303,(,\ud835\udc31\u0303)),\n\n\nwhere we use the fact that \ud835\udcab_\ud835\udcb3(\u00b7) is Lipschitz continuous with unitary Lipschitz constant <cit.>, such that:\n\n\n    ||_x(\ud835\udc31\u0303,)-_x(\ud835\udc31\u0303,(,\ud835\udc31\u0303))|| \n    \u2264     k_x\u03b1_x||-h(,\ud835\udc31)||=k_x\u03b1_x||||.\n \n\nUsing the uniform strong convexity and Lipschitz properties of Assumption <ref> and the same steps of the proof of <cit.>, we obtain \n\n\n    ^\u22a4_x(\ud835\udc31\u0303,(,\ud835\udc31\u0303))\u2264 -k\u0303_x||||^2,\n\n\nwhere k\u0303_x=\u03b1_x(\u03b3-\u03b1_x\u2113^2/4). Thus, for all \u03b1_x\u2208(0, \u03b1\u0302_x) with \u03b1\u0302_x=4\u03b3/\u2113^2 such that k\u0303_x is positive, we obtain\n\n\n    \ud835\udc31\u0303^\u22a4\ud835\udc31\u0307\u0303\u0307\u2264 -k\u0303_x||\ud835\udc31\u0303||^2+k_x\u03b1_x||\ud835\udc31\u0303||\u00b7||||+m||||\u00b7||||,\n\n\nwhere m:=max_\u2208\u0398||\u2207()|| and (\u00b7) is defined in (<ref>). Note that m<\u221e because \u0398 is compact and  is continuously differentiable by Assumption <ref>. From (<ref>), we have \n\n\n    ^\u22a4=-1/\u03b5_\u03be||||^2-^\u22a4d/dt\u2207_ f(\ud835\udc31\u0303+\ud835\udc31^*,),\n\n\nand note that\n\n\n    d/dt\u2207_f(\ud835\udc31\u0303+\ud835\udc31^*,)   =H_f(,\ud835\udc31\u0303+\ud835\udc31^*)(\ud835\udc31\u0307\u0303\u0307+\ud835\udc31\u0307^*)\n       +\u2202/\u2202\u2207_ f(\ud835\udc31\u0303+\ud835\udc31^*,),\n\n\nwhere H_f(\u00b7,\u00b7) is the Hessian matrix of f. By (<ref>) in Assumption <ref>, we have that ||H_f(,\ud835\udc31)||\u2264\u2113 for all \ud835\udc31\u2208\u211d^n and all \u2208\u0398, and since \ud835\udc31\u0307\u0303\u0307+\ud835\udc31\u0307^*=_x(\ud835\udc31\u0303,+(,\ud835\udc31\u0303)) by (<ref>), we obtain\n\n\n    ||H_f(,\ud835\udc31\u0303+\ud835\udc31^*)(\ud835\udc31\u0307\u0303\u0307+\ud835\udc31\u0307^*)|| \n    \u2264   \u2113 ||_x(\ud835\udc31\u0303,)-_x(\ud835\udc31\u0303,(,\ud835\udc31\u0303))+_x(\ud835\udc31\u0303,(,\ud835\udc31\u0303))||\n    \u2264   \u2113 k_x\u03b1_x||||+\u2113||_x(\ud835\udc31\u0303,(,\ud835\udc31\u0303))||\n    \u2264\u2113 k_x\u03b1_x||||+c\u2113||||,\n\n\nwhere c:=k_x(2+\u03b1_x\u2113). The second inequality above is due to  (<ref>). The last inequality is because _x(0,(,0))=0  and\n\n    1/k_x\u00b7|| _x(\ud835\udc31\u0303,(,\ud835\udc31\u0303))-_x(0,(,0))|| \n    \u2264   ||\ud835\udc31\u0303||+||\ud835\udcab_\ud835\udcb3(\ud835\udc31\u0305-\u03b1_x \u2207_ f(\ud835\udc31\u0305,))-\ud835\udcab_\ud835\udcb3(\ud835\udc31^*-\u03b1_x \u2207_ f(\ud835\udc31^*,))| \n    \u2264    ||\ud835\udc31\u0303||+||\ud835\udc31\u0303||+\u03b1_x||\u2207_ f(\ud835\udc31\u0305,)-\u2207_ f(\ud835\udc31^*,)||\n    \u2264    2||\ud835\udc31\u0303||+\u03b1_x \u2113||\ud835\udc31\u0303|| =  c ||||.\n\n\n\nCombining the above inequalities and using (<ref>), we obtain\n\n\n    ^\u22a4\u2264 -(1/\u03b5_\u03be-\u2113 k_x\u03b1_x)||||^2+c\u2113||\ud835\udc31\u0303|| ||||+M|||| ||||.\n\n\nUsing (<ref>) and (<ref>):\n\n\n    \u1e86   \u2264 (1-\u03bb)k_x\u03b1_x||\ud835\udc31\u0303|| |||+m(1-\u03bb)|||| ||||+M\u03bb|||| ||||\n       -k\u0303_x(1-\u03bb)||\ud835\udc31\u0303||^2-\u03bb(1/\u03b5_\u03be-\u2113 k_x\u03b1_x)||||^2+c\u2113\u03bb||\ud835\udc31\u0303|| ||||\n       =-\ud835\udc32\u0303^\u22a4 Q \ud835\udc32\u0303+c\u0305||\ud835\udc32\u0303|| ||||,\n\n\nwhere \ud835\udc32\u0303=(||\ud835\udc31\u0303||,||||) and Q is given by the 2\u00d72 matrix\n\n\n    Q=[[           k\u0303_x(1-\u03bb)m 1/2(1-\u03bb)k_x\u03b1_x+c\u2113\u03bb/2; 1/2(1-\u03bb)k_x\u03b1_x+c\u2113\u03bb/2    (1/\u03b5_\u03be-\u2113 k_x\u03b1_x)\u03bb ]],\n\n\nand c\u0305=max{m(1-\u03bb),M\u03bb}. This matrix is positive definite whenever\n\n\n    \u03bb(1-\u03bb)k\u0303_x m(1/\u03b5_\u03be-\u2113 k_x\u03b1_x)>1/4[(1-\u03bb)k_x\u03b1_x+\u03bb c\u2113]^2,\n\n\nwhich is equivalent to\n\n\n    1/\u03b5_\u03be>0.25 [(1-\u03bb)k_x\u03b1_x+\u03bb c\u2113]^2/\u03bb(1-\u03bb)k\u0303_x m+\u2113 k_x\u03b1_x.\n\n\nThis guarantees the existence of \u03b5\u0302_\u03be>0 such that for all \u03b5_\u03be\u2208(0,\u03b5\u0302_\u03be), the matrix Q is positive definite, and therefore W in (<ref>) is a smooth input-to-state stability (ISS) Lyapunov function for the error dynamics (<ref>) with respect to the input . This establishes the bound of Lemma <ref>. Since ||||=\u03b5_ ||\u03a0()||\u2264\u03b5_\u03c3, where \u03c3=max_\u2208\u0398||\u03a0()||, the result also implies  uniform ultimate boundedness (UUB) with ultimate bound proportional to \u03b5_0.  \u25aa\n\n\nSince Lemma <ref> directly establishes ISS for the nominal error averaged dynamics of (<ref>) with \u03b5_a=0, evolving in \ud835\udc02_3, the perturbed error average system (<ref>) renders the origin semi-globally practically ISS as \u03b5_a\u21920^+. We can now directly link the stability properties of the average dynamics (<ref>) and the original dynamics (<ref>) via standard averaging results for ISS systems <cit.>. The practical safety property follows directly by Lemma <ref> since the dynamics (<ref>) are independent of  (see the proof of Lemma <ref>).  \n\n\n\n\n\n \u00a7.\u00a7 Proof of Theorem <ref>\n\n\nFor each constant q, the average dynamics of the P-GZO dynamics (<ref>) are obtained as:\n\n\n\n    \ud835\udc31\u0307\u0305\u0307   =k_x \ud835\udcab_\ud835\udcb3(\ud835\udc31\u0305-\u03b1_x )-k_x\ud835\udc31\u0305,\n       =1/\u03b5_\u03be(-+\u2207 f_q(\ud835\udc31\u0305)+\ud835\udcaa(\u03b5_a)).\n\n\n\nThe following lemma is the main technical result needed to prove Theorem <ref>. Denote :=(,) and \ud835\udcb2_1^*:={(\ud835\udc31,)\u2208\u211d^2n:\ud835\udc31\u2208\ud835\udcb3^*, =\u2207 f(\ud835\udc31)}\n\n\nConsider the system  (<ref>) with \u03b5_a=0. Then, there exist a function V_q and k_x,\u03b5\u0302_\u03be,c_1,c_2>0 such that for all \u03b5_\u03be\u2208(0,\u03b5\u0302_\u03be), we have\n\n\n\n    c_1||||^2_\ud835\udcb2_1^*\u2264 V_q()\u2264 c_2||||^2_\ud835\udcb2_1^*\n       \u27e8\u2207 V_q(),\u00a0\u27e9\u2264 -\u03bb_q V_q(),\n\n\n\nfor all \u2208\ud835\udcb3\u00d7\u211d^n and all q\u2208 Q. \n\nProof: For each mode q\u2208 Q, we consider the Lyapunov function V_q()=1/2||-^*||^2+1/2||-\u2207 f_q()||^2. Since\n\n||||^2_\ud835\udcb2_1^*=||-^*||^2+||-\u2207 f_q(^*)||^2  \n\nand  \u2207 f_q(^*)=^*,\n\n\n    ||-\u2207 f_q()|| = ||-\u2207 f_q(^*)+\u2207 f_q(^*)-\u2207 f_q() ||\n    \u2264    ||-^*||+\u2113_q ||-^*||,\n\n\nwhere we use the Lipschitz property of \u2207 f_q. Hence, there exists c\u0305_q>0 such that V_q()\u2264c\u0305_q||||^2_\ud835\udcb2_1^* for all \u2208\ud835\udcb3\u00d7\u211d^n. Similarly,\n\n\n    ||-\u2207 f_q(^*) ||   \u2264 ||-\u2207 f_q()||+||\u2207 f_q()-\u2207 f_q(^*)||\n       \u2264 ||-\u2207 f_q()||+\u2113_q||-^*||.\n\n\nTherefore,\n\n\n    ||-\u2207 f_q(^*)||^2   \u2264(||-\u2207 f_q()||+\u2113_q||-^*||)^2\n       \u2264 2||-\u2207 f_q()||^2+2\u2113_q^2||\n    -^*||^2.\n\n\nAdding ||-^*||^2 to both sides and dividing by 2d_q=max{2,2\u2113_q^2+1} leads to\n\n\n    1/2d_q||||^2_\ud835\udcb2_1^*\u2264 V_q(),\u00a0\u00a0\u2200\u00a0\u2208\ud835\udcb3\u00d7\u211d^n.\n\n\nIt follows that c_2=max_q\u2208 Qc\u0305_q, and c_1=1/2max_q\u2208 Qd_q. Next, note that\n\n\n    V\u0307_q=(-^*)^\u22a4-(-\u2207 f_q())^\u22a4 H_f_q()+(-\u2207 f_q())^\u22a4.\n\n\nThe first term of V\u0307_q satisfies\n\n    (-^*)^\u22a4=(-^*)^\u22a4 (- _r + _r)\n    \u2264    (-^*)^\u22a4_r+||-^*|| ||-_r||\n    \u2264    -k\u0303_x||-^*||^2+k_x\u03b1_x||-^*|| ||-\u2207 f_q()||,\n\n\nwhere _r denotes the right-hand side of (<ref>) with =\u2207 f_q() and   we used <cit.> and (<ref>) to obtain the last inequality. Next, using (<ref>), the second term of V\u0307_q can be bounded as\n\n\n    -(-\u2207 f_q())^\u22a4 H_f_q()   \u2264\u2113 k_x\u03b1_x||-\u2207 f_q()||^2\n       \u00a0\u00a0+c\u2113||-\u2207 f_q()|| ||-^*||.\n\n\nThe last term of V\u0307_q satisfies \n\n    (-\u2207 f_q())^\u22a4=-1/\u03b5_\u03be||-\u2207 f_q()||^2.\n\nTherefore, V\u0307_q satisfies the same upper bound of (<ref>) with =0,  and there exists \u03b5\u0302_\u03be>0 such that for all \u03b5_\u03be\u2208(0,\u03b5\u0302_\u03be) the matrix Q is positive definite and \n\n\n    V\u0307_q\u2264 -k V_q(),\u00a0  \u2200\u2208\ud835\udcb3\u00d7\u211d^n.\n\n\nThis establishes the result of  Lemma <ref>. \u25aa\n\nThe result of Lemma <ref>, in conjunction with <cit.>, guarantees the existence of a \u03c4_d sufficiently large such that, the hybrid dynamical system with flows \n\n\n\n    \ud835\udc31\u0307\u0305\u0307   =k_x \ud835\udcab_\ud835\udcb3(\ud835\udc31\u0305-\u03b1_x )-k_x\ud835\udc31\u0305,\n       =1/\u03b5_\u03be(-+\u2207 f_q\u0305(\ud835\udc31\u0305))\n    q\u0307\u0305\u0307   =0\n    \u03c4\u0307\u0305\u0307   \u2208[0,1/\u03c4_d]\n\n\n\nevolving on the flow set C=(\ud835\udcb3\u00d7\u211d^n)\u00d7 [0,N_0]\u00d7\ud835\udcac, and jumps\n\n\n    \ud835\udc31\u0305^+=\ud835\udc31,\u00a0\u00a0\u03be\u0305^+=\u03be\u0305,\u00a0\u00a0q\u0305^+\u2208 Q,\u00a0\u00a0\u03c4\u0305^+=\u03c4\u0305-1.\n\n\nevolving on the jump set D=(\ud835\udcb3\u00d7\u211d^n)\u00d7 [1,N_0]\u00d7\ud835\udcac, renders the set {z^*}\u00d7[0,N_0]\u00d7\ud835\udcac UGAS. In turn, by robustness properties of well-posed hybrid systems, the \ud835\udcaa(\u03b5_a)-perturbation of this nominal average system renders the same set SGPAS as \u03b5_a\u21920^+ <cit.>. Then the result of Theorem <ref> follows  directly by an application of averaging theory for perturbed hybrid systems <cit.>.  \n\n\n\n\n \u00a7.\u00a7 Proof of Theorem <ref>\n \n\nSince the DP-GZO dynamics (<ref>) is a discontinuous ODE, we consider its  Krasovskii regularization defined in (<ref>), which only affects the right-hand side of \ud835\udc31\u0307:\n\n\n    \ud835\udc31\u0307\u2208 K(\ud835\udc33),  =1/\u03b5_\u03be(-+2/\u03f5_af(\ud835\udc31\u0302)),\n\n\nwhere \ud835\udc33:=(\ud835\udc31,). Since \ud835\udcb3 is closed and convex, and f is continuously differentiable, by <cit.>, every solution of (<ref>) is also a solution of the DP-GZO dynamics (<ref>), and vice versa. Moreover, since the dynamics of \ud835\udc31 are  independent of , system (<ref>) is in standard form for the application of averaging theory <cit.>. In particular, similar to Lemma <ref>, we compute the average dynamics of (<ref>) along t\u2192(t) and obtain\n\n\n    \u2208 K(),  =1/\u03b5_\u03be(-+\u2207 f(\ud835\udc31\u0305)+\ud835\udcaa(\u03b5_a)).\n\n\nWe will study the stability properties of this perturbed system by analyzing the nominal unperturbed dynamics corresponding to \u03b5_a=0. The following lemma will be key for our results.\n\n\n\nUnder the assumptions of Theorem <ref>, system (<ref>) with \u03b5_a=0 restricted to evolve in the set \ud835\udcb3\u00d7\u211d^n renders  the point ^*=(\ud835\udc31^*,\u2207 f(\ud835\udc31^*)) UGAS. \n\n\n\n\n\nProof: Using the equivalence between Krasovskii and Caratheodory solutions for well-posed projected gradient systems <cit.>, we consider the dynamics\n\n\n    =k_x\ud835\udcab_T_\ud835\udcb3()(-),\u00a0\u00a0=1/\u03b5_\u03be(-+\u2207 f()),\n\n\nand the Lyapunov function with \u03bb\u2208(0,1)\n\n    V(\ud835\udc33\u0305)=(1-\u03bb)(f(\ud835\udc31\u0305)-f(^*))+\u03bb1/2||-\u2207 f(\ud835\udc31\u0305)||^2,\n\n which is continuously differentiable, radially unbounded, and positive definite with respect to \u00d7^n.\n \n We proceed to compute the inner product \u27e8\u2207 V, \ud835\udc33\u0307\u0305\u0307\u27e9, where \ud835\udc33\u0307\u0305\u0307=(\ud835\udc31\u0307\u0305\u0307,). To do this, we use the fact that for any regular set \ud835\udcb3, and any \ud835\udc31\u2208\ud835\udcb3, \u03bd\u2208\u211d^n, there exists a unique \u03b7\u2208 N_\ud835\udcb3() such that \ud835\udcab_T_\ud835\udcb3()(\u03bd)=\u03bd-\u03b7, \u03b7^\u22a4 (\u03bd-\u03b7)=0, and \u03bd^\u22a4 (\u03bd-\u03b7)=||\u03bd-\u03b7||^2, \n <cit.>.\n Thus using \u03bd=-, \ud835\udc2f\u0303(\ud835\udc31\u0305):=\u03bd-\u03b7, and (\ud835\udc31\u0305)=-\u2207 f(\ud835\udc31\u0305) we obtain:\n\n\n    \u27e8\u2207 V, \ud835\udc33\u0307\u0305\u0307\u27e9\n    \n     =     k_x(1-\u03bb)\u2207 f(\ud835\udc31\u0305)^\u22a4(\ud835\udc31\u0305)-k_x\u03bb(\ud835\udc31\u0305)^\u22a4 H_f(\ud835\udc31\u0305) (\ud835\udc31\u0305) +\u03bb(\ud835\udc31\u0305)^\u22a4\n    \n    =    k_x(1-\u03bb)\u2207 f(\ud835\udc31\u0305)^\u22a4(\ud835\udc31\u0305)-k_x\u03bb(\ud835\udc31\u0305)^\u22a4 H_f(\ud835\udc31\u0305) (\ud835\udc31\u0305) -\u03bb/\u03b5_\u03be ||(\ud835\udc31\u0305)||^2.\n\n\nTo upper-bound the first term, we note that\n\n\n    \u2207 f(\ud835\udc31\u0305)^\u22a4(\ud835\udc31\u0305)\n    =(\u2207 f(\ud835\udc31\u0305)-)^\u22a4(\ud835\udc31\u0305)+^\u22a4(\ud835\udc31\u0305)\n    \u2264    ||(\ud835\udc31\u0305)|| ||(\ud835\udc31\u0305)||-\u03bd^\u22a4 (\u03bd-\u03b7)\n    \u2264    ||(\ud835\udc31\u0305)|| ||(\ud835\udc31\u0305)||-||\u03bd-\u03b7||^2 = ||(\ud835\udc31\u0305)|| ||(\ud835\udc31\u0305)|| -||(\ud835\udc31\u0305)||^2.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nMoreover, since \u2207 f is \u2113-globally Lipschitz by assumption, the second term of V\u0307 satisfies \n\n    (-\u2207 f(\ud835\udc31\u0305))^\u22a4 H_f(\ud835\udc31\u0305) (\ud835\udc31\u0305) \u2264\u2113||(\ud835\udc31\u0305)|| ||(\ud835\udc31\u0305)||.\n Therefore, defining (\ud835\udc33\u0305):=((\ud835\udc31\u0305),(\ud835\udc31\u0305)), we obtain:\n\n\n    \u27e8\u2207 V(\ud835\udc33\u0305), \ud835\udc33\u0307\u0305\u0307\u27e9\u2264 - (\ud835\udc33\u0305)^\u22a4 Q \ud835\udc2a\u0303(\ud835\udc33\u0305),\n\n\nwhere\n\n\n    Q=[[             k_x(1-\u03bb) -1/2(k_x\u03b4\u2113+k_x(1-\u03bb)); -1/2(k_x\u03bb\u2113+k_x(1-\u03bb))               \u03bb1/\u03b5_\u03be ]].\n\n\nThis matrix is positive definite whenever \u03bb (1-\u03bb) k_x/\u03b5_\u03be>1/4[k_x\u03bb\u2113 +k_x(1-\u03bb)]^2, which can be satisfied for sufficiently small values of \u03b5_\u03be. Since (\ud835\udc33)=0 if and only if \ud835\udc33=(\ud835\udc31^*,^*), we obtain that ^* is uniformly globally asymptotically stable (UGAS) for (<ref>). \n\u25aa\n\n\n\n\nBy equivalence between Krasovskii and Caratheodory solutions, the result of Lemma <ref> guarantees UGAS for the Krasovskii regularization of (<ref>), which is precisely (<ref>) with \u03b5_a=0. Since, by construction, this system is well-posed (outer-semi-continuous, locally bounded, and convex-valued), the set ^* is semi-globally practically asymptotically stable for (<ref>) as \u03b5_a\u21920^+. The stability result of Theorem <ref> follows  directly by the application of averaging results for non-smooth system <cit.>.  \u25aa\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u00a7 CONCLUSION\n\n\n\n\nIn this paper, we introduce a class of continuous-time \nprojected zeroth-order (P-ZO) dynamics methods for solving generic constrained optimization problems with both hard and asymptotical constraints, where\nthe mathematical forms of the objective and constraint functions in these problems are  unknown and only their function evaluations are available. Therefore, the proposed P-ZO methods can be \ninterpreted as model-free feedback controllers that steer a black-box plant towards  optimal steady states described by an optimization problem using only measurement feedback.\nThis paper considers both the continuous and discontinuous projection maps and establishes the stability and robustness results for the proposed P-ZO methods. Moreover, their dynamic tracking performance under the time-varying setting and switching cost functions is analyzed. The focus of this paper is to introduce these  P-ZO methods and to analyze their theoretical performance. Our future work will delve into the practical implementation of these P-ZO methods in different applications in engineering and sciences.\n\n\n \n\n\n\n \n \n\n\n\n\n\n\n\n\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u00a7 AUXILIARY LEMMAS\n\n\n\n\n\n\n\n \u00a7.\u00a7 Proof of Lemma <ref>\n\n\n\n\nFirst, we have \n(0)\u2208\ud835\udd4b^n and   \u03bc_i(0)^2+\u03bc_i+1(0)^2=1 for all i\u2208{1,3,\u2026,2n-1}. Since\n\n\n    d/dt(\u03bc_i(t)^2+\u03bc_i+1(t)^2)   =2\u03bc_i\u03bc\u0307_i+2\u03bc_i+1\u03bc\u0307_i+1\n       =2 (\u03bc_i,\u03bc_i+1)^\u22a4\u039b_i(\u03bc_i,\u03bc_i+1)=0,\n\n\n\ud835\udd4b^n is forward invariant for (t) under (<ref>). Then, following the ideas of <cit.>, we define \u03a6(\ud835\udc31):=|\ud835\udc31-\ud835\udcab_\ud835\udcb3(\ud835\udc31)|^2 and have\n\n\n    \u03a6\u0307   =2(\ud835\udc31-\ud835\udcab_\ud835\udcb3(\ud835\udc31))^\u22a4\ud835\udc31\u0307\n       =2k_x(\ud835\udc31-\ud835\udcab_\ud835\udcb3(\ud835\udc31))^\u22a4(\ud835\udcab_\ud835\udcb3(\ud835\udc31-\u03b1_x\u03be)-\ud835\udc31)\n       =-2k_x(\ud835\udc31-\ud835\udcab_\ud835\udcb3(\ud835\udc31))^\u22a4(\ud835\udc31- \ud835\udcab_\ud835\udcb3(\ud835\udc31))\n       \u00a0\u00a0\u00a0-2k_x(\ud835\udc31-\ud835\udcab_\ud835\udcb3(\ud835\udc31))^\u22a4(\ud835\udcab_\ud835\udcb3(\ud835\udc31)-\ud835\udcab_\ud835\udcb3(\ud835\udc31-\u03b1_x))\n       \u2264  -2k_x |\ud835\udc31-\ud835\udcab_\ud835\udcb3(\ud835\udc31)|^2 = -2k_x\u03a6(\ud835\udc31),\n\n\nfor all \ud835\udc31\u2208\u211d^n, where the first equality follows by <cit.>, and the inequality in the last step used the property  \n (\ud835\udc2e-P_\ud835\udcb3(\ud835\udc2e))^\u22a4(P_\ud835\udcb3(\ud835\udc2e)-\ud835\udc2f)\u2265 0 for all \ud835\udc2e\u2208\u211d^n and all \ud835\udc2f\u2208\ud835\udcb3.\n This implies that \u03a6\u0307(\ud835\udc31(t))\u2264 -2k_x\u03a6(\ud835\udc31(t))\u2264 0, for all t\u2208dom(\ud835\udc33).  We next show that (t)\u2208 for all t\u2208dom() given (0)\u2208 using the  contradiction argument. Suppose that there exists  t_2>t_1 with   t_2,t_1\u2208dom(\ud835\udc33) such that    \ud835\udc31(t)\u2208\ud835\udcb3 for all t\u2208[0,t_1] and  \ud835\udc31(t)\u2209\ud835\udcb3 for all t\u2208(t_1,t_2]. Then, it follows that \u03a6(\ud835\udc31(t_1))=0 and \u03a6(\ud835\udc31(t_2))>0. But the mean value theorem implies the existence of a   t\u0305\u2208(t_1,t_2) such that \n\n\n    \u03a6\u0307(t\u0305)=\u03a6(t_2)-\u03a6(t_1)/t_2-t_1>0,\n\n\nwhich is a contradiction. Therefore, we conclude that if \ud835\udc33(0)\u2208\ud835\udc02_1, then \ud835\udc33(t)\u2208\ud835\udc02_1 for all t\u2208dom(\ud835\udc33). Since the input \ud835\udc31\u0302 is defined via (<ref>) and |\u03bc_i(t)|\u2264 1 for all i and t\u22650, it follows that \ud835\udc31\u0302(t)\u2208\ud835\udcb3+\u03b5_a\ud835\udd39 for all t\u2208dom(\ud835\udc33). \n\n\n\n\n\n \u00a7.\u00a7 Proof of Lemma <ref>\n \n\n\nFirst, consider the  integration on the first part of _2(y,(t)). By the Taylor expansion of f(\u00b7), we have  (\u2200 i\u2208[n]) \n\n\n    1/T\u222b_0^T 2/\u03b5_a   f(+ \u03b5_a (t)) _i(t)  dt \n    \n     =    1/T\u222b_0^T2/\u03b5_a [f()+\u03b5_a  \u2207 f()^\u22a4(t)\n     +(\u03b5_a^2)] _i(t) dt \n    \n    =    1/T\u222b_0^T 2\u2211_j=1^n [\u2202 f()/\u2202 x_j_j(t)_i(t)]  dt +(\u03b5_a)\n    \n    =    \u2202 f()/\u2202 x_i\u03b7_d/ T\u222b_0^T _i(t)^2   dt +(\u03b5_a)= \u2202 f()/\u2202 x_i  +(\u03b5_a).\n\n\nSimilarly, we have (\u2200 j\u2208[m], i\u2208[n])\n\n    1/T\u222b_0^T2/\u03b5_a \u03bb_jg_j(+\u03b5_a (t)) _i(t) dt= \u03bb_j \u2202 g_j()/\u2202 x_i+(\u03b5_a).\n\n\n\nAs for the integration on the second part of _2(y,\u03bc(t)), i.e., ((t)), each component of this integration is (\u2200 j\u2208[m])\n\n    1/T\u222b_0^T g_j(+ \u03f5_a(t))   dt \n    \n    =     1/T\u222b_0^T \n    g_j() + \u03f5_a  \u2207 g_j()^\u22a4(t) +(\u03b5_a^2)  dt\n    \n    =     g_j() + (\u03b5_a^2).\n\n\nCombining these two parts, Lemma <ref> is proved.\n\n\n\n\n \u00a7.\u00a7 Proof of Lemma <ref>\n\n\n\n\nTake \u03b5_a sufficiently small such that (\u03f5_a)< 1 in (<ref>). \nFor each \u03bd\u2208(0,1), there exists a time T_1>0 such that for any t\u2265 T_1,  \u03b2(\u0394, t)\u2264\u03bd/4. Such  T_1 always exists because \u03b2 is a class-\ud835\udca6\u2112 function, and thus  |(t)|_^*\u2264\u03bd/2 for t\u2265 T_1 by (<ref>). In addition,\nby the exponential input-to-output stability of the fast dynamics in (<ref>), there exists a time T_2>0 such that for any t\u2265 T_2, every solution of (<ref>) with (0)\u2208 [(^*+\u0394\ud835\udd39)\u2229]\u00d7\u0394 satisfies \n\n\n    |\u03be\u0305(t)|\u2264\u03bd/2 + sup_\u03c4\u2265 t_0 ||\u2113((\u03c4)) +(\u03b5_a)||\u2264\u03bd/2+ M_2.\n\n\nThus, for all t\u2265max{T_1,T_2}, the trajectory  converges to a \u03bd/2-neighborhood of ^*\u00d7 M_2. Therefore, the Omega-limit set from \u00d7 M_3 is nonempty and \u03a9(\u00d7 M_3)\u2282 (^*\u00d7 M_2) + \u03bd/2\u2282int(\u00d7 M_3).  By <cit.>, the set \u03a9(\u00d7 M_3) is uniformly globally asymptotically stable for the average system (<ref>) restricted to \u00d7 M_3. \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n \n \n\n\n\nieeetr\n\n\n\n\n\n\nXin Chen is a Postdoctoral Associate in the MIT Energy Initiative at  Massachusetts Institute of Technology. He received the Ph.D. degree in electrical engineering from Harvard University, and\nreceived the double B.S. degrees in engineering physics and economics and the master\u2019s degree in electrical engineering from Tsinghua University,  China.  His research interests lie in\nthe intersection of control, learning, and optimization for human-cyber-physical systems, with particular applications to power and energy systems. He was a recipient of the IEEE PES Outstanding Doctoral Dissertation Award in 2023, \nthe Outstanding Student Paper Award in the IEEE Conference on Decision and Control in 2021, the Best Student Paper Award Finalist in the IEEE Conference on Control Technology and Applications in 2018, and the Best Conference Paper Award in the IEEE PES General Meeting in 2016.\n\n\n\n\n\n\nJorge I. Poveda\nis an Assistant Professor in the ECE Department at the University of California, San Diego. He received the M.Sc. and Ph.D. degrees in Electrical and Computer Engineering from UC Santa Barbara in 2016 and 2018, respectively. Before joining UCSD, he was an Assistant Professor at CU Boulder from 2019 until 2022, and a Postdoctoral Fellow at Harvard University during part of 2018. He has received the NSF Research Initiation (CRII) and CAREER awards, the Young Investigator Award from the Air Force Office of Scientific Research, the campus-wide RIO Faculty Fellowship at CU Boulder, and the CCDC Outstanding Scholar Fellowship and Best Ph.D. Thesis awards from UCSB. He has co-authored papers selected as finalists for the Best Student Paper Award at the 2017 and 2021 IEEE Conference on Decision and Control. \n\n\n\n\n\n\nNa Li is the Gordon McKay Professor of Electrical Engineering and Applied Mathematics in the School of Engineering and Applied Sciences at Harvard University. She received her PhD degree in Control and Dynamical systems from the California Institute of Technology in 2013. In 2014, she was a postdoctoral associate of the Laboratory for Information and Decision Systems\nat Massachusetts Institute of Technology.  She has received the Donald P. Eckman Award, ONR and AFOSR  Young Investigator Awards, NSF CAREER Award, the Harvard PSE Accelerator Award, and she was also a Best Student Paper Award finalist in the 2011 IEEE Conference on Decision and Control. She has served as Associate Editor for IEEE Transactions on Automatic Control, Systems and Control Letters, and IEEE Control System Letters.\n\n\n\n\n\n\n\n"}